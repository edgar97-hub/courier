import{a as le}from"./chunk-Z4DPIHAP.js";import{a as R,b as B}from"./chunk-ZTDL6NGH.js";import"./chunk-OTLI2ABD.js";import{b as re}from"./chunk-OJV7AURN.js";import"./chunk-JITM3PM2.js";import{a as k,b as N,d as T,f as D,g as q,i as z}from"./chunk-LBEKF3HX.js";import"./chunk-F6TTIMDB.js";import{C as Z,D as $,J as ee,K as te,b as U,d as g,f as j,g as A,l as G,o as V,p as H,r as J,s as K,u as Q,v as W,w as X,z as Y}from"./chunk-O5ZQDZAL.js";import{a as ae,b as me}from"./chunk-2F32NBWD.js";import"./chunk-SGYCFQGT.js";import"./chunk-KH2VVGOT.js";import{a as oe,b as ie,e as ne}from"./chunk-ZIDR7CB2.js";import"./chunk-K4SLO6IK.js";import{Bb as d,Bc as b,Ca as x,Fb as P,Nb as r,Nc as I,Ob as F,Oc as E,Pb as L,Ra as S,Sc as O,Ta as n,Tc as M,Xa as c,ab as u,f as h,gb as s,jb as y,kb as m,la as v,lb as w,tb as t,tc as f,ub as o,vb as p}from"./chunk-ZAXDZG2U.js";function ue(i,a){i&1&&(t(0,"mat-error"),r(1,"Se requiere correo "),o())}function fe(i,a){i&1&&(t(0,"mat-error"),r(1,"Por favor, introduce una direcci\xF3n de correo electr\xF3nico v\xE1lida"),o())}function be(i,a){i&1&&(t(0,"mat-error"),r(1,"Se requiere contrase\xF1a"),o())}function Ce(i,a){i&1&&(t(0,"mat-error"),r(1,"La contrase\xF1a debe tener al menos 6 caracteres."),o())}var C=class i{constructor(a){this.fb=a;this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],rememberMe:[!1]})}isLoading=!1;loginSubmit=new x;loginForm;hidePassword=!0;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid?this.loginSubmit.emit(this.loginForm.value):this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||i)(c(K))};static \u0275cmp=u({type:i,selectors:[["app-login-form"]],inputs:{isLoading:"isLoading"},outputs:{loginSubmit:"loginSubmit"},decls:20,vars:11,consts:[["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","pat@example.com","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",1,"full-width","login-button",3,"disabled"]],template:function(l,e){l&1&&(t(0,"form",0),d("ngSubmit",function(){return e.onSubmit()}),t(1,"mat-form-field",1)(2,"mat-label"),r(3,"Correo"),o(),p(4,"input",2),t(5,"mat-icon",3),r(6,"email"),o(),s(7,ue,2,0,"mat-error",4)(8,fe,2,0,"mat-error",4),o(),t(9,"mat-form-field",1)(10,"mat-label"),r(11,"Password"),o(),p(12,"input",5),t(13,"button",6),d("click",function(){return e.hidePassword=!e.hidePassword}),t(14,"mat-icon"),r(15),o()(),s(16,be,2,0,"mat-error",4)(17,Ce,2,0,"mat-error",4),o(),t(18,"button",7),r(19),o()()),l&2&&(m("formGroup",e.loginForm),n(7),m("ngIf",e.email==null?null:e.email.hasError("required")),n(),m("ngIf",e.email==null?null:e.email.hasError("email")),n(4),m("type",e.hidePassword?"password":"text"),n(),y("aria-label","Hide password")("aria-pressed",e.hidePassword),n(2),F(e.hidePassword?"visibility_off":"visibility"),n(),m("ngIf",e.password==null?null:e.password.hasError("required")),n(),m("ngIf",e.password==null?null:e.password.hasError("minlength")),n(),m("disabled",e.isLoading||e.loginForm.invalid),n(),L(" ",e.isLoading?"Iniciando sesi\xF3n...":"accder al sistema"," "))},dependencies:[b,f,Q,G,U,j,A,J,V,H,$,Z,W,X,Y,te,ee,ne,ie,oe,re,me,ae],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{padding:10px 0;font-size:1.1em;text-transform:uppercase;letter-spacing:.5px}"]})};function Me(i,a){i&1&&(t(0,"div",10),p(1,"mat-progress-spinner",11),o())}var pe=class i{constructor(a){this.router=a}appStore=v(le);backgroundImageUrl=M.apiUrl+"/settings/company/background-image";logoImageUrl=M.apiUrl+"/settings/company/logo-image";onLogin(a){return h(this,null,function*(){yield this.appStore.login(a)})}static \u0275fac=function(l){return new(l||i)(c(I))};static \u0275cmp=u({type:i,selectors:[["app-login-page"]],decls:15,vars:5,consts:[[1,"login-page-wrapper"],[1,"login-card"],[1,"login-card-header"],[1,"logo-wrapper"],[2,"max-width","100px","border","0px solid black",3,"src"],[2,"margin-top","10px"],["class","spinner-overlay",4,"ngIf"],[3,"loginSubmit","isLoading"],[1,"login-card-actions"],["routerLink","/register"],[1,"spinner-overlay"],["mode","indeterminate","diameter","50"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"div",3),p(4,"img",4),t(5,"mat-card-title",5),r(6,"Iniciar sesi\xF3n"),o()()(),t(7,"mat-card-content"),s(8,Me,2,0,"div",6),t(9,"app-login-form",7),d("loginSubmit",function(se){return e.onLogin(se)}),o()(),t(10,"mat-card-actions",8)(11,"p"),r(12," \xBFNo tienes una cuenta?"),t(13,"a",9),r(14," Reg\xEDstrate Aqu\xED"),o()()()()()),l&2&&(w("background-image","url("+e.backgroundImageUrl+")"),n(4),P("src",e.logoImageUrl,S),n(4),m("ngIf",e.appStore.isLoading()),n(),m("isLoading",e.appStore.isLoading()))},dependencies:[b,f,O,E,C,z,k,D,T,q,N,B,R],styles:[".login-page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-size:cover;background-position:center;background-repeat:no-repeat;padding:20px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;border-radius:8px;box-shadow:0 4px 12px #00000026;background-color:#ffffffe6}.login-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.login-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:2em;font-weight:500;color:#3f51b5;margin-bottom:8px;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.login-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#757575}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:8px}.login-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:.9em}.login-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:none}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.logo-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}"]})};export{pe as LoginPageComponent};
