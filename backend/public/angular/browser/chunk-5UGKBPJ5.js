import{a as ae}from"./chunk-PFFDGLHC.js";import{a as D,b as B}from"./chunk-LS42GOGO.js";import"./chunk-32YNFKZJ.js";import{b as ne}from"./chunk-SNHUGF2I.js";import"./chunk-APZ5R6TQ.js";import{a as O,b as E,d as k,f as N,g as T,i as q}from"./chunk-W4CSZLWO.js";import{C as X,D as Y,J as Z,K as $,b as z,d as g,f as R,g as j,l as A,o as G,p as V,r as U,s as H,u as J,v as K,w as Q,z as W}from"./chunk-U3WC6S2W.js";import{a as ie,b as re}from"./chunk-YAUGPVR6.js";import"./chunk-SGYCFQGT.js";import"./chunk-KWFNSAFG.js";import"./chunk-T6Q7PKL7.js";import{a as ee,b as te,e as oe}from"./chunk-PNZEVFCU.js";import"./chunk-OJN7FPAP.js";import{Ac as C,Bb as d,Ca as v,Mb as i,Mc as F,Nb as P,Nc as w,Ob as y,Rc as L,Sc as I,Ta as r,Xa as c,ab as u,f as _,gb as p,jb as x,kb as m,la as h,lb as S,sc as f,tb as t,ub as o,vb as s}from"./chunk-4RYFT4MT.js";function ge(n,a){n&1&&(t(0,"mat-error"),i(1,"Se requiere correo "),o())}function ce(n,a){n&1&&(t(0,"mat-error"),i(1,"Por favor, introduce una direcci\xF3n de correo electr\xF3nico v\xE1lida"),o())}function ue(n,a){n&1&&(t(0,"mat-error"),i(1,"Se requiere contrase\xF1a"),o())}function fe(n,a){n&1&&(t(0,"mat-error"),i(1,"La contrase\xF1a debe tener al menos 6 caracteres."),o())}var b=class n{constructor(a){this.fb=a;this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],rememberMe:[!1]})}isLoading=!1;loginSubmit=new v;loginForm;hidePassword=!0;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid?this.loginSubmit.emit(this.loginForm.value):this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||n)(c(H))};static \u0275cmp=u({type:n,selectors:[["app-login-form"]],inputs:{isLoading:"isLoading"},outputs:{loginSubmit:"loginSubmit"},decls:20,vars:11,consts:[["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","pat@example.com","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",1,"full-width","login-button",3,"disabled"]],template:function(l,e){l&1&&(t(0,"form",0),d("ngSubmit",function(){return e.onSubmit()}),t(1,"mat-form-field",1)(2,"mat-label"),i(3,"Correo"),o(),s(4,"input",2),t(5,"mat-icon",3),i(6,"email"),o(),p(7,ge,2,0,"mat-error",4)(8,ce,2,0,"mat-error",4),o(),t(9,"mat-form-field",1)(10,"mat-label"),i(11,"Password"),o(),s(12,"input",5),t(13,"button",6),d("click",function(){return e.hidePassword=!e.hidePassword}),t(14,"mat-icon"),i(15),o()(),p(16,ue,2,0,"mat-error",4)(17,fe,2,0,"mat-error",4),o(),t(18,"button",7),i(19),o()()),l&2&&(m("formGroup",e.loginForm),r(7),m("ngIf",e.email==null?null:e.email.hasError("required")),r(),m("ngIf",e.email==null?null:e.email.hasError("email")),r(4),m("type",e.hidePassword?"password":"text"),r(),x("aria-label","Hide password")("aria-pressed",e.hidePassword),r(2),P(e.hidePassword?"visibility_off":"visibility"),r(),m("ngIf",e.password==null?null:e.password.hasError("required")),r(),m("ngIf",e.password==null?null:e.password.hasError("minlength")),r(),m("disabled",e.isLoading||e.loginForm.invalid),r(),y(" ",e.isLoading?"Iniciando sesi\xF3n...":"Iniciar sesi\xF3n"," "))},dependencies:[C,f,J,A,z,R,j,U,G,V,Y,X,K,Q,W,$,Z,oe,te,ee,ne,re,ie],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{padding:10px 0;font-size:1.1em;text-transform:uppercase;letter-spacing:.5px}"]})};function Ce(n,a){n&1&&(t(0,"div",7),s(1,"mat-progress-spinner",8),o())}var me=class n{constructor(a){this.router=a}appStore=h(ae);imageUrl=I.apiUrl+"/settings/company/background-image";onLogin(a){return _(this,null,function*(){yield this.appStore.login(a)})}static \u0275fac=function(l){return new(l||n)(c(F))};static \u0275cmp=u({type:n,selectors:[["app-login-page"]],decls:13,vars:4,consts:[[1,"login-page-wrapper"],[1,"login-card"],[1,"login-card-header"],["class","spinner-overlay",4,"ngIf"],[3,"loginSubmit","isLoading"],[1,"login-card-actions"],["routerLink","/register"],[1,"spinner-overlay"],["mode","indeterminate","diameter","50"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),i(4,"\xA1Bienvenido de nuevo!"),o()(),t(5,"mat-card-content"),p(6,Ce,2,0,"div",3),t(7,"app-login-form",4),d("loginSubmit",function(le){return e.onLogin(le)}),o()(),t(8,"mat-card-actions",5)(9,"p"),i(10,"\xBFNo tienes una cuenta?"),t(11,"a",6),i(12,"Inscribirse"),o()()()()()),l&2&&(S("background-image","url("+e.imageUrl+")"),r(6),m("ngIf",e.appStore.isLoading()),r(),m("isLoading",e.appStore.isLoading()))},dependencies:[C,f,L,w,b,q,O,N,k,T,E,B,D],styles:[".login-page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-size:cover;background-position:center;background-repeat:no-repeat;padding:20px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;border-radius:8px;box-shadow:0 4px 12px #00000026;background-color:#ffffffe6}.login-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.login-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:2em;font-weight:500;color:#3f51b5;margin-bottom:8px;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.login-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#757575}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:8px}.login-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:.9em}.login-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:none}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{me as LoginPageComponent};
