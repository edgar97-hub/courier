import{b as E}from"./chunk-QSNR5F4X.js";import{a as M,b as S}from"./chunk-PZCJVKX2.js";import{h as I}from"./chunk-BGY2FCVT.js";import{a as x,b as P}from"./chunk-DTY45AJM.js";import{$ as h,$a as y,Bb as v,Ia as r,Lb as l,Ra as u,Sa as s,fb as b,j as g,jb as _,kb as p,la as f,lb as m,ob as d,sb as o,tb as a,ub as c,wc as C}from"./chunk-AXAGG6HT.js";function D(n,i){n&1&&(o(0,"div",1),c(1,"mat-progress-spinner",5),a())}function L(n,i){n&1&&(o(0,"div",2)(1,"mat-icon",6),l(2,"broken_image"),a(),o(3,"span",7),l(4,"No se pudo cargar la imagen"),a()())}function U(n,i){if(n&1&&c(0,"img",8),n&2){let t=v();p("object-fit",t.objectFit),m("visible",t.isLoaded())("hidden",t.isLoading()||t.hasError()),_("src",t.processedImageUrl(),u)("alt",t.altText)}}function j(n,i){n&1&&(o(0,"div",4)(1,"mat-icon",9),l(2,"image_search"),a(),o(3,"span",10),l(4,"Sin imagen para mostrar"),a()())}var O=class n{imageUrl;altText="Displayed image";containerHeight="100px";containerWidth="100%";objectFit="contain";enableSpinner=!0;enableErrorIcon=!0;isLoading=r(!1);hasError=r(!1);isLoaded=r(!1);processedImageUrl=r(null);settingsService=f(E);destroy$=new g;enlace=null;ngOnInit(){this.settingsService.loadSettings().pipe(h(this.destroy$)).subscribe({next:i=>{if(i.length){if(this.isLoaded.set(!1),this.hasError.set(!1),!i[0].rates_image_url){this.isLoading.set(!1),this.hasError.set(!0),this.processedImageUrl.set(null),console.warn("ImageDisplayComponent: imageUrl is null or undefined.");return}console.log("loadedSettings[0].rates_image_url",i[0].rates_image_url),this.processedImageUrl.set(i[0].rates_image_url),this.enableSpinner&&this.isLoading.set(!0)}},error:i=>{console.log("err",i)}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["app-image-display"]],inputs:{imageUrl:"imageUrl",altText:"altText",containerHeight:"containerHeight",containerWidth:"containerWidth",objectFit:"objectFit",enableSpinner:"enableSpinner",enableErrorIcon:"enableErrorIcon"},decls:5,vars:13,consts:[[1,"image-container"],[1,"overlay","spinner-overlay"],[1,"overlay","error-overlay"],[1,"displayed-image",3,"src","alt","object-fit","visible","hidden"],[1,"overlay","placeholder-overlay"],["mode","indeterminate","diameter","40"],[1,"error-icon"],[1,"error-text"],[1,"displayed-image",3,"src","alt"],[1,"placeholder-icon"],[1,"placeholder-text"]],template:function(t,e){t&1&&(o(0,"div",0),b(1,D,2,0,"div",1)(2,L,5,0,"div",2)(3,U,1,8,"img",3)(4,j,5,0,"div",4),a()),t&2&&(p("height",e.containerHeight)("width",e.containerWidth),m("loading",e.isLoading())("error",e.hasError())("loaded",e.isLoaded()),s(),d(e.isLoading()&&e.enableSpinner?1:-1),s(),d(e.hasError()&&e.enableErrorIcon&&!e.isLoading()?2:-1),s(),d(e.processedImageUrl()&&!e.hasError()?3:!e.processedImageUrl()&&!e.isLoading()&&!e.hasError()?4:-1))},dependencies:[C,S,M,P,x,I],styles:["[_nghost-%COMP%]{display:block}.image-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:4px}.image-container.loaded[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent}.displayed-image[_ngcontent-%COMP%]{display:block;width:60%;height:700px;transition:opacity .5s ease-in-out}.displayed-image.visible[_ngcontent-%COMP%]{opacity:1}.displayed-image.hidden[_ngcontent-%COMP%]{display:none}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1}.error-overlay[_ngcontent-%COMP%], .placeholder-overlay[_ngcontent-%COMP%]{text-align:center;padding:10px}.error-icon[_ngcontent-%COMP%], .placeholder-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:8px}.error-text[_ngcontent-%COMP%], .placeholder-text[_ngcontent-%COMP%]{font-size:.9em}"]})};export{O as ImageDisplayComponent};
