import{a as ie}from"./chunk-VYJNNWAC.js";import{a as T,b as q}from"./chunk-DZVI4T7F.js";import"./chunk-VJ3WPKSB.js";import{b as te}from"./chunk-XVCZTICY.js";import"./chunk-NAQKWS4P.js";import{a as L,b as I,d as E,f as O,g as N,i as k}from"./chunk-364TLEKQ.js";import{C as U,D as W,J as X,K as Y,b as B,d as c,f as D,g as R,l as j,o as z,p as A,r as G,s as V,u as H,v as J,w as K,z as Q}from"./chunk-QRGJHX3A.js";import{a as oe,b as ne}from"./chunk-2GO6OJT2.js";import"./chunk-UDFWBAUS.js";import"./chunk-G4NHAPTN.js";import{m as Z,o as $,r as ee}from"./chunk-VGKJ3OFK.js";import{Ac as C,Bb as d,Ca as v,Mb as i,Mc as P,Nb as x,Nc as w,Ob as F,Rc as y,Ta as r,Xa as g,ab as u,f as b,gb as p,jb as S,kb as m,la as h,sc as f,tb as t,ub as o,vb as s}from"./chunk-4AEMZGPD.js";function se(n,a){n&1&&(t(0,"mat-error"),i(1,"Se requiere correo "),o())}function de(n,a){n&1&&(t(0,"mat-error"),i(1,"Por favor, introduce una direcci\xF3n de correo electr\xF3nico v\xE1lida"),o())}function ce(n,a){n&1&&(t(0,"mat-error"),i(1,"Se requiere contrase\xF1a"),o())}function ge(n,a){n&1&&(t(0,"mat-error"),i(1,"La contrase\xF1a debe tener al menos 6 caracteres."),o())}var M=class n{constructor(a){this.fb=a;this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]],rememberMe:[!1]})}isLoading=!1;loginSubmit=new v;loginForm;hidePassword=!0;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid?this.loginSubmit.emit(this.loginForm.value):this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||n)(g(V))};static \u0275cmp=u({type:n,selectors:[["app-login-form"]],inputs:{isLoading:"isLoading"},outputs:{loginSubmit:"loginSubmit"},decls:20,vars:11,consts:[["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","pat@example.com","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",1,"full-width","login-button",3,"disabled"]],template:function(l,e){l&1&&(t(0,"form",0),d("ngSubmit",function(){return e.onSubmit()}),t(1,"mat-form-field",1)(2,"mat-label"),i(3,"Correo"),o(),s(4,"input",2),t(5,"mat-icon",3),i(6,"email"),o(),p(7,se,2,0,"mat-error",4)(8,de,2,0,"mat-error",4),o(),t(9,"mat-form-field",1)(10,"mat-label"),i(11,"Password"),o(),s(12,"input",5),t(13,"button",6),d("click",function(){return e.hidePassword=!e.hidePassword}),t(14,"mat-icon"),i(15),o()(),p(16,ce,2,0,"mat-error",4)(17,ge,2,0,"mat-error",4),o(),t(18,"button",7),i(19),o()()),l&2&&(m("formGroup",e.loginForm),r(7),m("ngIf",e.email==null?null:e.email.hasError("required")),r(),m("ngIf",e.email==null?null:e.email.hasError("email")),r(4),m("type",e.hidePassword?"password":"text"),r(),S("aria-label","Hide password")("aria-pressed",e.hidePassword),r(2),x(e.hidePassword?"visibility_off":"visibility"),r(),m("ngIf",e.password==null?null:e.password.hasError("required")),r(),m("ngIf",e.password==null?null:e.password.hasError("minlength")),r(),m("disabled",e.isLoading||e.loginForm.invalid),r(),F(" ",e.isLoading?"Iniciando sesi\xF3n...":"Iniciar sesi\xF3n"," "))},dependencies:[C,f,H,j,B,D,R,G,z,A,W,U,J,K,Q,Y,X,ee,$,Z,te,ne,oe],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{padding:10px 0;font-size:1.1em;text-transform:uppercase;letter-spacing:.5px}"]})};function ue(n,a){n&1&&(t(0,"div",8),s(1,"mat-progress-spinner",9),o())}var re=class n{constructor(a){this.router=a}appStore=h(ie);onLogin(a){return b(this,null,function*(){yield this.appStore.login(a)})}static \u0275fac=function(l){return new(l||n)(g(P))};static \u0275cmp=u({type:n,selectors:[["app-login-page"]],decls:16,vars:2,consts:[[1,"login-page-wrapper"],[1,"login-card"],[1,"login-card-header"],["class","spinner-overlay",4,"ngIf"],[3,"loginSubmit","isLoading"],[1,"login-card-actions"],["routerLink","/register"],["routerLink","/forgot-password"],[1,"spinner-overlay"],["mode","indeterminate","diameter","50"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),i(4,"\xA1Bienvenido de nuevo!"),o()(),t(5,"mat-card-content"),p(6,ue,2,0,"div",3),t(7,"app-login-form",4),d("loginSubmit",function(ae){return e.onLogin(ae)}),o()(),t(8,"mat-card-actions",5)(9,"p"),i(10,"\xBFNo tienes una cuenta?"),t(11,"a",6),i(12,"Inscribirse"),o()(),t(13,"p")(14,"a",7),i(15,"\xBFHas olvidado tu contrase\xF1a?"),o()()()()()),l&2&&(r(6),m("ngIf",e.appStore.isLoading()),r(),m("isLoading",e.appStore.isLoading()))},dependencies:[C,f,y,w,M,k,L,O,E,N,I,q,T],styles:[".login-page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f0f2f5;padding:20px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;border-radius:8px;box-shadow:0 4px 12px #00000026}.login-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.login-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:2em;font-weight:500;color:#3f51b5;margin-bottom:8px}.login-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#757575}.card-content[_ngcontent-%COMP%]{border:1px solid black;display:flex;flex-direction:column;gap:2}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:8px}.login-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:.9em}.login-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:none}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{re as LoginPageComponent};
