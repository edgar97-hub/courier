import{a as Ye}from"./chunk-5CIX2RVD.js";import{a as Te,b as De,d as ke,e as ve,f as Se,h as Ie}from"./chunk-JDAZBIQL.js";import"./chunk-NYSIFWHP.js";import{a as ye,b as Pe}from"./chunk-GQKZT2Z5.js";import{d as Me,e as Oe}from"./chunk-VDNF5TAH.js";import{C as ge,F as he,G as xe,b as oe,d as at,f as ie,g as ae,l as se,o as ce,r as me,t as ue,v as de,x as le,y as fe,z as pe}from"./chunk-BP5QNQX2.js";import"./chunk-H2LMHOSF.js";import{a as Vt,b as Qt,d as Jt,e as Kt,g as te,i as ee}from"./chunk-5WTBZVHG.js";import{a as ne,b as re}from"./chunk-STLZB7OE.js";import{b as we,e as Ce}from"./chunk-NWNTSVQB.js";import"./chunk-6A3NYOL4.js";import{$b as S,Ab as b,Ac as qt,Bd as be,Cd as _e,Fc as Zt,G as yt,Gc as $t,Ha as H,Lc as Xt,Mb as u,Nb as ot,Nc as Bt,O as Pt,Ob as _,Pb as zt,Q as Tt,Ra as l,Sc as Gt,Tc as jt,Zb as O,_ as nt,_a as It,_b as N,a as U,aa as Dt,ac as it,b as q,bb as Yt,eb as D,fa as kt,ib as E,j as Ct,ka as v,kb as Et,nb as C,pb as Nt,qb as Ft,qc as Lt,r as bt,rb as m,s as _t,sb as s,sc as At,ta as vt,tb as R,ua as St,vc as Ht,wc as Rt,xb as Wt,zb as rt,zc as Ut}from"./chunk-KWE5B57V.js";var Z=class t{API_TRACKING_URL=jt.apiUrl+"/orders";http=v($t);getOrderByTrackingCode(n){return!n||n.trim()===""?bt(null):(console.log(`TrackingService: Fetching order with tracking code: ${n}`),this.http.get(this.API_TRACKING_URL+"/tracking",{params:new Zt().set("tracking_code",n.trim())}).pipe(Dt(e=>console.log("TrackingService: Fetched order:",e)),yt(this.handleError)))}handleError(n){console.error("API Error in TrackingService:",n);let e="No se pudo obtener la informaci\xF3n del pedido. Por favor, intente m\xE1s tarde.";return n.status===404?e="C\xF3digo de seguimiento no encontrado. Verifique el c\xF3digo e intente de nuevo.":n.error&&typeof n.error=="string"&&n.error.length<100?e=n.error:n.message,_t(()=>new Error(e))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})};var Cn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ne=(t,n,e)=>{let r,o=Cn[t];return typeof o=="string"?r=o:n===1?r=o.one:r=o.other.replace("{{count}}",n.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function $(t){return(n={})=>{let e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}var bn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_n={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fe={date:$({formats:bn,defaultWidth:"full"}),time:$({formats:_n,defaultWidth:"full"}),dateTime:$({formats:yn,defaultWidth:"full"})};var Pn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},We=(t,n,e,r)=>Pn[t];function F(t){return(n,e)=>{let r=e?.context?String(e.context):"standalone",o;if(r==="formatting"&&t.formattingValues){let a=t.defaultFormattingWidth||t.defaultWidth,c=e?.width?String(e.width):a;o=t.formattingValues[c]||t.formattingValues[a]}else{let a=t.defaultWidth,c=e?.width?String(e.width):t.defaultWidth;o=t.values[c]||t.values[a]}let i=t.argumentCallback?t.argumentCallback(n):n;return o[i]}}var Tn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},In={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yn=(t,n)=>{let e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},ze={ordinalNumber:Yn,era:F({values:Tn,defaultWidth:"wide"}),quarter:F({values:Dn,defaultWidth:"wide",argumentCallback:t=>t-1}),month:F({values:kn,defaultWidth:"wide"}),day:F({values:vn,defaultWidth:"wide"}),dayPeriod:F({values:Sn,defaultWidth:"wide",formattingValues:In,defaultFormattingWidth:"wide"})};function W(t){return(n,e={})=>{let r=e.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=n.match(o);if(!i)return null;let a=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?Nn(c,h=>h.test(a)):En(c,h=>h.test(a)),g;g=t.valueCallback?t.valueCallback(f):f,g=e.valueCallback?e.valueCallback(g):g;let x=n.slice(a.length);return{value:g,rest:x}}}function En(t,n){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n(t[e]))return e}function Nn(t,n){for(let e=0;e<t.length;e++)if(n(t[e]))return e}function Le(t){return(n,e={})=>{let r=n.match(t.matchPattern);if(!r)return null;let o=r[0],i=n.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=e.valueCallback?e.valueCallback(a):a;let c=n.slice(o.length);return{value:a,rest:c}}}var Fn=/^(\d+)(th|st|nd|rd)?/i,Wn=/\d+/i,zn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ln={any:[/^b/i,/^(a|c)/i]},An={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hn={any:[/1/i,/2/i,/3/i,/4/i]},Rn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Un={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$n={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ae={ordinalNumber:Le({matchPattern:Fn,parsePattern:Wn,valueCallback:t=>parseInt(t,10)}),era:W({matchPatterns:zn,defaultMatchWidth:"wide",parsePatterns:Ln,defaultParseWidth:"any"}),quarter:W({matchPatterns:An,defaultMatchWidth:"wide",parsePatterns:Hn,defaultParseWidth:"any",valueCallback:t=>t+1}),month:W({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:Un,defaultParseWidth:"any"}),day:W({matchPatterns:qn,defaultMatchWidth:"wide",parsePatterns:Zn,defaultParseWidth:"any"}),dayPeriod:W({matchPatterns:$n,defaultMatchWidth:"any",parsePatterns:Xn,defaultParseWidth:"any"})};var st={code:"en-US",formatDistance:Ne,formatLong:Fe,formatRelative:We,localize:ze,match:Ae,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Bn={};function y(){return Bn}var Gn=Math.pow(10,8)*24*60*60*1e3,Do=-Gn,X=6048e5,He=864e5;var jn=3600;var Re=jn*24,ko=Re*7,Vn=Re*365.2425,Qn=Vn/12,vo=Qn*3,ct=Symbol.for("constructDateFrom");function w(t,n){return typeof t=="function"?t(n):t&&typeof t=="object"&&ct in t?t[ct](n):t instanceof Date?new t.constructor(n):new Date(n)}function p(t,n){return w(n||t,t)}function mt(t){let n=p(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function Ue(t,...n){let e=w.bind(null,t||n.find(r=>typeof r=="object"));return n.map(e)}function ut(t,n){let e=p(t,n?.in);return e.setHours(0,0,0,0),e}function qe(t,n,e){let[r,o]=Ue(e?.in,t,n),i=ut(r),a=ut(o),c=+i-mt(i),f=+a-mt(a);return Math.round((c-f)/He)}function Ze(t,n){let e=p(t,n?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function $e(t,n){let e=p(t,n?.in);return qe(e,Ze(e))+1}function P(t,n){let e=y(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,o=p(t,n?.in),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function I(t,n){return P(t,q(U({},n),{weekStartsOn:1}))}function B(t,n){let e=p(t,n?.in),r=e.getFullYear(),o=w(e,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);let i=I(o),a=w(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);let c=I(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=c.getTime()?r:r-1}function Xe(t,n){let e=B(t,n),r=w(n?.in||t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),I(r)}function Be(t,n){let e=p(t,n?.in),r=+I(e)-+Xe(e);return Math.round(r/X)+1}function G(t,n){let e=p(t,n?.in),r=e.getFullYear(),o=y(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=w(n?.in||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);let c=P(a,n),f=w(n?.in||t,0);f.setFullYear(r,0,i),f.setHours(0,0,0,0);let g=P(f,n);return+e>=+c?r+1:+e>=+g?r:r-1}function Ge(t,n){let e=y(),r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,o=G(t,n),i=w(n?.in||t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),P(i,n)}function je(t,n){let e=p(t,n?.in),r=+P(e,n)-+Ge(e,n);return Math.round(r/X)+1}function d(t,n){let e=t<0?"-":"",r=Math.abs(t).toString().padStart(n,"0");return e+r}var T={y(t,n){let e=t.getFullYear(),r=e>0?e:1-e;return d(n==="yy"?r%100:r,n.length)},M(t,n){let e=t.getMonth();return n==="M"?String(e+1):d(e+1,2)},d(t,n){return d(t.getDate(),n.length)},a(t,n){let e=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,n){return d(t.getHours()%12||12,n.length)},H(t,n){return d(t.getHours(),n.length)},m(t,n){return d(t.getMinutes(),n.length)},s(t,n){return d(t.getSeconds(),n.length)},S(t,n){let e=n.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,e-3));return d(o,n.length)}};var z={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dt={G:function(t,n,e){let r=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})}},y:function(t,n,e){if(n==="yo"){let r=t.getFullYear(),o=r>0?r:1-r;return e.ordinalNumber(o,{unit:"year"})}return T.y(t,n)},Y:function(t,n,e,r){let o=G(t,r),i=o>0?o:1-o;if(n==="YY"){let a=i%100;return d(a,2)}return n==="Yo"?e.ordinalNumber(i,{unit:"year"}):d(i,n.length)},R:function(t,n){let e=B(t);return d(e,n.length)},u:function(t,n){let e=t.getFullYear();return d(e,n.length)},Q:function(t,n,e){let r=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return d(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,n,e){let r=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return d(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,n,e){let r=t.getMonth();switch(n){case"M":case"MM":return T.M(t,n);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(t,n,e){let r=t.getMonth();switch(n){case"L":return String(r+1);case"LL":return d(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(t,n,e,r){let o=je(t,r);return n==="wo"?e.ordinalNumber(o,{unit:"week"}):d(o,n.length)},I:function(t,n,e){let r=Be(t);return n==="Io"?e.ordinalNumber(r,{unit:"week"}):d(r,n.length)},d:function(t,n,e){return n==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):T.d(t,n)},D:function(t,n,e){let r=$e(t);return n==="Do"?e.ordinalNumber(r,{unit:"dayOfYear"}):d(r,n.length)},E:function(t,n,e){let r=t.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(t,n,e,r){let o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return d(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(o,{width:"short",context:"formatting"});case"eeee":default:return e.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,e,r){let o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return d(i,n.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(o,{width:"narrow",context:"standalone"});case"cccccc":return e.day(o,{width:"short",context:"standalone"});case"cccc":default:return e.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,e){let r=t.getDay(),o=r===0?7:r;switch(n){case"i":return String(o);case"ii":return d(o,n.length);case"io":return e.ordinalNumber(o,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});case"iiii":default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(t,n,e){let o=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,e){let r=t.getHours(),o;switch(r===12?o=z.noon:r===0?o=z.midnight:o=r/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,e){let r=t.getHours(),o;switch(r>=17?o=z.evening:r>=12?o=z.afternoon:r>=4?o=z.morning:o=z.night,n){case"B":case"BB":case"BBB":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,e){if(n==="ho"){let r=t.getHours()%12;return r===0&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return T.h(t,n)},H:function(t,n,e){return n==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):T.H(t,n)},K:function(t,n,e){let r=t.getHours()%12;return n==="Ko"?e.ordinalNumber(r,{unit:"hour"}):d(r,n.length)},k:function(t,n,e){let r=t.getHours();return r===0&&(r=24),n==="ko"?e.ordinalNumber(r,{unit:"hour"}):d(r,n.length)},m:function(t,n,e){return n==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):T.m(t,n)},s:function(t,n,e){return n==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):T.s(t,n)},S:function(t,n){return T.S(t,n)},X:function(t,n,e){let r=t.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return Qe(r);case"XXXX":case"XX":return Y(r);case"XXXXX":case"XXX":default:return Y(r,":")}},x:function(t,n,e){let r=t.getTimezoneOffset();switch(n){case"x":return Qe(r);case"xxxx":case"xx":return Y(r);case"xxxxx":case"xxx":default:return Y(r,":")}},O:function(t,n,e){let r=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ve(r,":");case"OOOO":default:return"GMT"+Y(r,":")}},z:function(t,n,e){let r=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ve(r,":");case"zzzz":default:return"GMT"+Y(r,":")}},t:function(t,n,e){let r=Math.trunc(+t/1e3);return d(r,n.length)},T:function(t,n,e){return d(+t,n.length)}};function Ve(t,n=""){let e=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return i===0?e+String(o):e+String(o)+n+d(i,2)}function Qe(t,n){return t%60===0?(t>0?"-":"+")+d(Math.abs(t)/60,2):Y(t,n)}function Y(t,n=""){let e=t>0?"-":"+",r=Math.abs(t),o=d(Math.trunc(r/60),2),i=d(r%60,2);return e+o+n+i}var Je=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Ke=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Jn=(t,n)=>{let e=t.match(/(P+)(p+)?/)||[],r=e[1],o=e[2];if(!o)return Je(t,n);let i;switch(r){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Je(r,n)).replace("{{time}}",Ke(o,n))},tn={p:Ke,P:Jn};var Kn=/^D+$/,tr=/^Y+$/,er=["D","DD","YY","YYYY"];function en(t){return Kn.test(t)}function nn(t){return tr.test(t)}function rn(t,n,e){let r=nr(t,n,e);if(console.warn(r),er.includes(t))throw new RangeError(r)}function nr(t,n,e){let r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function on(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function an(t){return!(!on(t)&&typeof t!="number"||isNaN(+p(t)))}var rr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,or=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ir=/^'([^]*?)'?$/,ar=/''/g,sr=/[a-zA-Z]/;function sn(t,n,e){let r=y(),o=e?.locale??r.locale??st,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=p(t,e?.in);if(!an(c))throw new RangeError("Invalid time value");let f=n.match(or).map(x=>{let h=x[0];if(h==="p"||h==="P"){let et=tn[h];return et(x,o.formatLong)}return x}).join("").match(rr).map(x=>{if(x==="''")return{isToken:!1,value:"'"};let h=x[0];if(h==="'")return{isToken:!1,value:cr(x)};if(dt[h])return{isToken:!0,value:x};if(h.match(sr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:x}});o.localize.preprocessor&&(f=o.localize.preprocessor(c,f));let g={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return f.map(x=>{if(!x.isToken)return x.value;let h=x.value;(!e?.useAdditionalWeekYearTokens&&nn(h)||!e?.useAdditionalDayOfYearTokens&&en(h))&&rn(h,n,String(t));let et=dt[h[0]];return et(c,h,o.localize,g)}).join("")}function cr(t){let n=t.match(ir);return n?n[1].replace(ar,"'"):t}function cn(){return Object.assign({},y())}function lt(t,n,e){let r=cn(),o=dr(t,e.timeZone,e.locale??r.locale);return"formatToParts"in o?mr(o,n):ur(o,n)}function mr(t,n){let e=t.formatToParts(n);for(let r=e.length-1;r>=0;--r)if(e[r].type==="timeZoneName")return e[r].value}function ur(t,n){let e=t.format(n).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(e);return r?r[0].substr(1):""}function dr(t,n,e){return new Intl.DateTimeFormat(e?[e.code,"en-US"]:void 0,{timeZone:n,timeZoneName:t})}function un(t,n){let e=hr(n);return"formatToParts"in e?fr(e,t):pr(e,t)}var lr={year:0,month:1,day:2,hour:3,minute:4,second:5};function fr(t,n){try{let e=t.formatToParts(n),r=[];for(let o=0;o<e.length;o++){let i=lr[e[o].type];i!==void 0&&(r[i]=parseInt(e[o].value,10))}return r}catch(e){if(e instanceof RangeError)return[NaN];throw e}}function pr(t,n){let e=t.format(n),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(e);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}var ft={},mn=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),gr=mn==="06/25/2014, 00:00:00"||mn==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";function hr(t){return ft[t]||(ft[t]=gr?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ft[t]}function j(t,n,e,r,o,i,a){let c=new Date(0);return c.setUTCFullYear(t,n,e),c.setUTCHours(r,o,i,a),c}var dn=36e5,xr=6e4,pt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function k(t,n,e){if(!t)return 0;let r=pt.timezoneZ.exec(t);if(r)return 0;let o,i;if(r=pt.timezoneHH.exec(t),r)return o=parseInt(r[1],10),ln(o)?-(o*dn):NaN;if(r=pt.timezoneHHMM.exec(t),r){o=parseInt(r[2],10);let a=parseInt(r[3],10);return ln(o,a)?(i=Math.abs(o)*dn+a*xr,r[1]==="+"?-i:i):NaN}if(wr(t)){n=new Date(n||Date.now());let a=e?n:Mr(n),c=gt(a,t);return-(e?c:Or(n,c,t))}return NaN}function Mr(t){return j(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function gt(t,n){let e=un(t,n),r=j(e[0],e[1]-1,e[2],e[3]%24,e[4],e[5],0).getTime(),o=t.getTime(),i=o%1e3;return o-=i>=0?i:1e3+i,r-o}function Or(t,n,e){let o=t.getTime()-n,i=gt(new Date(o),e);if(n===i)return n;o-=i-n;let a=gt(new Date(o),e);return i===a?i:Math.max(i,a)}function ln(t,n){return-23<=t&&t<=23&&(n==null||0<=n&&n<=59)}var fn={};function wr(t){if(fn[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),fn[t]=!0,!0}catch{return!1}}var Cr=60*1e3,gn={X:function(t,n,e){let r=ht(e.timeZone,t);if(r===0)return"Z";switch(n){case"X":return pn(r);case"XXXX":case"XX":return L(r);case"XXXXX":case"XXX":default:return L(r,":")}},x:function(t,n,e){let r=ht(e.timeZone,t);switch(n){case"x":return pn(r);case"xxxx":case"xx":return L(r);case"xxxxx":case"xxx":default:return L(r,":")}},O:function(t,n,e){let r=ht(e.timeZone,t);switch(n){case"O":case"OO":case"OOO":return"GMT"+br(r,":");case"OOOO":default:return"GMT"+L(r,":")}},z:function(t,n,e){switch(n){case"z":case"zz":case"zzz":return lt("short",t,e);case"zzzz":default:return lt("long",t,e)}}};function ht(t,n){let e=t?k(t,n,!0)/Cr:n?.getTimezoneOffset()??0;if(Number.isNaN(e))throw new RangeError("Invalid time zone specified: "+t);return e}function V(t,n){let e=t<0?"-":"",r=Math.abs(t).toString();for(;r.length<n;)r="0"+r;return e+r}function L(t,n=""){let e=t>0?"-":"+",r=Math.abs(t),o=V(Math.floor(r/60),2),i=V(Math.floor(r%60),2);return e+o+n+i}function pn(t,n){return t%60===0?(t>0?"-":"+")+V(Math.abs(t)/60,2):L(t,n)}function br(t,n=""){let e=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;return i===0?e+String(o):e+String(o)+n+V(i,2)}function xt(t){let n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+t-+n}var Mt=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;var Ot=36e5,hn=6e4,_r=2,M={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Mt};function A(t,n={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);let e=n.additionalDigits==null?_r:Number(n.additionalDigits);if(e!==2&&e!==1&&e!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);let r=yr(t),{year:o,restDateString:i}=Pr(r.date,e),a=Tr(i,o);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){let c=a.getTime(),f=0,g;if(r.time&&(f=Dr(r.time),f===null||isNaN(f)))return new Date(NaN);if(r.timeZone||n.timeZone){if(g=k(r.timeZone||n.timeZone,new Date(c+f)),isNaN(g))return new Date(NaN)}else g=xt(new Date(c+f)),g=xt(new Date(c+f+g));return new Date(c+f+g)}else return new Date(NaN)}function yr(t){let n={},e=M.dateTimePattern.exec(t),r;if(e?(n.date=e[1],r=e[3]):(e=M.datePattern.exec(t),e?(n.date=e[1],r=e[2]):(n.date=null,r=t)),r){let o=M.timeZone.exec(r);o?(n.time=r.replace(o[1],""),n.timeZone=o[1].trim()):n.time=r}return n}function Pr(t,n){if(t){let e=M.YYY[n],r=M.YYYYY[n],o=M.YYYY.exec(t)||r.exec(t);if(o){let i=o[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(o=M.YY.exec(t)||e.exec(t),o){let i=o[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function Tr(t,n){if(n===null)return null;let e,r,o;if(!t||!t.length)return e=new Date(0),e.setUTCFullYear(n),e;let i=M.MM.exec(t);if(i)return e=new Date(0),r=parseInt(i[1],10)-1,Mn(n,r)?(e.setUTCFullYear(n,r),e):new Date(NaN);if(i=M.DDD.exec(t),i){e=new Date(0);let a=parseInt(i[1],10);return Sr(n,a)?(e.setUTCFullYear(n,0,a),e):new Date(NaN)}if(i=M.MMDD.exec(t),i){e=new Date(0),r=parseInt(i[1],10)-1;let a=parseInt(i[2],10);return Mn(n,r,a)?(e.setUTCFullYear(n,r,a),e):new Date(NaN)}if(i=M.Www.exec(t),i)return o=parseInt(i[1],10)-1,On(o)?xn(n,o):new Date(NaN);if(i=M.WwwD.exec(t),i){o=parseInt(i[1],10)-1;let a=parseInt(i[2],10)-1;return On(o,a)?xn(n,o,a):new Date(NaN)}return null}function Dr(t){let n,e,r=M.HH.exec(t);if(r)return n=parseFloat(r[1].replace(",",".")),wt(n)?n%24*Ot:NaN;if(r=M.HHMM.exec(t),r)return n=parseInt(r[1],10),e=parseFloat(r[2].replace(",",".")),wt(n,e)?n%24*Ot+e*hn:NaN;if(r=M.HHMMSS.exec(t),r){n=parseInt(r[1],10),e=parseInt(r[2],10);let o=parseFloat(r[3].replace(",","."));return wt(n,e,o)?n%24*Ot+e*hn+o*1e3:NaN}return null}function xn(t,n,e){n=n||0,e=e||0;let r=new Date(0);r.setUTCFullYear(t,0,4);let o=r.getUTCDay()||7,i=n*7+e+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var kr=[31,28,31,30,31,30,31,31,30,31,30,31],vr=[31,29,31,30,31,30,31,31,30,31,30,31];function wn(t){return t%400===0||t%4===0&&t%100!==0}function Mn(t,n,e){if(n<0||n>11)return!1;if(e!=null){if(e<1)return!1;let r=wn(t);if(r&&e>vr[n]||!r&&e>kr[n])return!1}return!0}function Sr(t,n){if(n<1)return!1;let e=wn(t);return!(e&&n>366||!e&&n>365)}function On(t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function wt(t,n,e){return!(t<0||t>=25||n!=null&&(n<0||n>=60)||e!=null&&(e<0||e>=60))}var Ir=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Q(t,n,e={}){n=String(n);let r=n.match(Ir);if(r){let o=A(e.originalDate||t,e);n=r.reduce(function(i,a){if(a[0]==="'")return i;let c=i.indexOf(a),f=i[c-1]==="'",g=i.replace(a,"'"+gn[a[0]](o,a,e)+"'");return f?g.substring(0,c-1)+g.substring(c+1):g},n)}return sn(t,n,e)}function J(t,n,e){t=A(t,e);let r=k(n,t,!0),o=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}var K=class t{transform(n,e="dd/MM/yyyy HH:mm:ss"){if(!n)return"";let r="America/Lima",o=J(n,r);return Q(o,e,{timeZone:r})}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Yt({name:"peruDate",type:t,pure:!0})};var Yr=(t,n)=>n.id;function Er(t,n){t&1&&(m(0,"mat-error"),u(1,"El c\xF3digo de seguimiento es obligatorio."),s())}function Nr(t,n){t&1&&(m(0,"mat-error"),u(1,"El c\xF3digo debe tener al menos 5 caracteres."),s())}function Fr(t,n){t&1&&(R(0,"mat-progress-spinner",10),m(1,"span"),u(2,"Rastreando..."),s())}function Wr(t,n){t&1&&(m(0,"span"),u(1,"Rastrear"),s())}function zr(t,n){if(t&1&&(m(0,"mat-card",7)(1,"mat-card-content",11)(2,"mat-icon",12),u(3,"error_outline"),s(),m(4,"span"),u(5),s()()()),t&2){let e=b();l(5),ot(e.errorMessage())}}function Lr(t,n){if(t&1&&(m(0,"div",24)(1,"mat-icon"),u(2,"event"),s(),m(3,"span")(4,"span"),u(5,"Entrega Estimada:"),s(),u(6),O(7,"date"),O(8,"default"),s()()),t&2){let e=b();l(6),_(" ",S(8,4,S(7,1,e.delivery_date,"fullDate"),"N/A"),"")}}function Ar(t,n){if(t&1){let e=Wt();m(0,"div",25),rt("click",function(){vt(e);let o=b(),i=b();return St(i.openMap(o.delivery_coordinates))}),m(1,"mat-icon",26),u(2,"location_on"),s(),m(3,"span"),u(4,"Ver en Mapa (Destino)"),s()()}}function Hr(t,n){if(t&1&&(m(0,"div",31)(1,"mat-icon",34),u(2,"short_text"),s(),u(3),s()),t&2){let e=b().$implicit;l(3),_(" ",e.notes," ")}}function Rr(t,n){if(t&1&&(m(0,"div",32),u(1),O(2,"titlecase"),O(3,"titlecase"),s()),t&2){let e=b().$implicit;l(),zt(" De: ",N(2,2,e.previousValue)," \u2192 A: ",N(3,4,e.newValue)," ")}}function Ur(t,n){t&1&&R(0,"div",33)}function qr(t,n){if(t&1&&(m(0,"mat-list-item",27)(1,"mat-icon",28),u(2),s(),m(3,"div",29),u(4),O(5,"titlecase"),s(),m(6,"div",30),u(7),O(8,"peruDate"),s(),D(9,Hr,4,1,"div",31)(10,Rr,4,6,"div",32),s(),D(11,Ur,1,0,"div",33),O(12,"slice")),t&2){let e=n.$implicit,r=n.$index,o=b(2),i=b();Et("first-item",r===0),l(),E("color",i.getTimelineIconColor(e)),l(),ot(i.getTimelineIcon(e)),l(2),_(" ",N(5,9,e.action)," "),l(3),_(" ",S(8,11,e.createdAt,"Pp")," "),l(2),C(e.notes?9:-1),l(),C(e.previousValue&&e.newValue&&e.action.toUpperCase().includes("ESTADO")?10:-1),l(),C(r<it(12,14,o.logs,0,10).length-1?11:-1)}}function Zr(t,n){if(t&1&&(m(0,"mat-list",22),Nt(1,qr,13,18,null,null,Yr),O(3,"slice"),s()),t&2){let e=b();l(),Ft(it(3,0,e.logs,0,10))}}function $r(t,n){t&1&&(m(0,"p",23),u(1," No hay historial de seguimiento disponible para este pedido. "),s())}function Xr(t,n){if(t&1&&(m(0,"mat-card",8)(1,"mat-card-header",13)(2,"div")(3,"mat-card-title"),u(4),s(),m(5,"mat-card-subtitle",14),u(6),O(7,"default"),s()(),m(8,"span",15),u(9),O(10,"titlecase"),s()(),m(11,"mat-card-content")(12,"div",16)(13,"div",17)(14,"mat-icon"),u(15,"description"),s(),m(16,"span",18)(17,"span"),u(18,"Contenido:"),s(),u(19),O(20,"default"),s()(),m(21,"div",17)(22,"mat-icon"),u(23,"home"),s(),m(24,"span",18)(25,"span"),u(26,"Destino:"),s(),u(27),O(28,"titlecase"),O(29,"default"),s()(),D(30,Lr,9,7,"div",19)(31,Ar,5,0,"div",20),s(),R(32,"mat-divider",21),m(33,"h3"),u(34,"Historial de Seguimiento"),s(),D(35,Zr,4,4,"mat-list",22)(36,$r,2,0,"p",23),s()()),t&2){let e=n,r=b();l(4),_("Pedido: ",e.code||e.tracking_code,""),l(2),_("Destinatario: ",S(7,9,e.recipient_name,"N/A"),""),l(2),E("ngClass",r.getStatusBadgeClass(e.status)),l(),_(" ",N(10,12,e.status)," "),l(10),_(" ",S(20,14,e.item_description,"No especificado"),""),l(8),_(" ",S(29,19,N(28,17,e.delivery_district_name),"N/A"),""),l(3),E("ngIf",e.delivery_date),l(),C(e.delivery_coordinates?31:-1),l(4),C(e.logs&&e.logs.length>0?35:36)}}function Br(t,n){t&1&&(m(0,"mat-card",9)(1,"mat-card-content",35)(2,"mat-icon"),u(3,"info_outline"),s(),m(4,"span"),u(5,"No se encontr\xF3 informaci\xF3n para el c\xF3digo de seguimiento ingresado."),s()()())}var tt=class t{route=v(Xt);router=v(Bt);fb=v(de);trackingService=v(Z);trackingForm;trackedOrder=H(null);isLoading=H(!1);errorMessage=H(null);searchAttempted=H(!1);destroy$=new Ct;constructor(){this.trackingForm=this.fb.group({trackingCode:["",[at.required,at.minLength(5)]]}),this.route.queryParamMap.pipe(nt(this.destroy$),Pt((n,e)=>n.get("code")===e.get("code"))).subscribe(n=>{let e=n.get("code");console.log("codeFromUrl",e),e&&(this.trackingForm.patchValue({trackingCode:e}),this.submitTracking())})}ngOnInit(){}get trackingCodeCtrl(){return this.trackingForm.get("trackingCode")}submitTracking(){if(this.searchAttempted.set(!0),this.errorMessage.set(null),this.trackedOrder.set(null),this.trackingForm.invalid){this.trackingForm.markAllAsTouched();return}let n=this.trackingCodeCtrl?.value.trim();n&&(this.isLoading.set(!0),this.router.navigate([],{relativeTo:this.route,queryParams:{code:n},queryParamsHandling:"merge"}),this.trackingService.getOrderByTrackingCode(n).pipe(nt(this.destroy$),Tt(()=>this.isLoading.set(!1))).subscribe({next:e=>{this.trackedOrder.set(e),e||this.errorMessage.set("C\xF3digo de seguimiento no encontrado.")},error:e=>{this.trackedOrder.set(null),this.errorMessage.set(e.message||"Ocurri\xF3 un error al buscar el pedido.")}}))}getTimelineIcon(n){let e=n.newValue?.toUpperCase()||"";return e.includes("ENTREGADO")?"check_circle":e.includes("TRANSITO")||e.includes("RECOGIDO")?"local_shipping":e.includes("ALMACEN")?"inventory_2":e.includes("REGISTRADO")?"receipt_long":e.includes("CANCELADO")?"cancel":e.includes("RECHAZADO EN PUNTO")?"report_problem":e.includes("REPROGRAMADO")?"event_repeat":"fiber_manual_record"}getTimelineIconColor(n){let e=n.action.toUpperCase();if(e.includes("ENTREGADO"))return"primary";if(e.includes("CANCELADO")||e.includes("INCIDENCIA")||e.includes("NO_ENTREGADO"))return"warn"}getStatusBadgeClass(n){return n?`status-${n.toString().toLowerCase().replace(/[\s_]+/g,"-")}`:"status-desconocido"}openMap(n){n&&window.open(`https://www.google.com/maps/search/?api=1&query=${n}`,"_blank")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=It({type:t,selectors:[["app-tracking-page"]],decls:23,vars:7,consts:[[1,"tracking-page-container"],[1,"tracking-form-card","mat-elevation-z4"],[1,"tracking-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","trackingCode","placeholder","Ej: TRK12345XYZ","required",""],["matSuffix",""],["mat-flat-button","","type","submit",1,"track-button","btn-corp-primary",3,"disabled"],[1,"result-card","error-card","mat-elevation-z2"],[1,"result-card","order-details-card","mat-elevation-z2"],[1,"result-card","info-card","mat-elevation-z2"],["mode","indeterminate","diameter","20","strokeWidth","3"],[1,"error-message"],["color","warn"],[1,"order-details-header"],[2,"font-weight","700"],[1,"status-badge-tracking",2,"font-weight","700 !important",3,"ngClass"],[1,"order-summary"],[1,"summary-item"],[2,"font-weight","700 !important"],["class","summary-item","style","font-weight: 700 !important",4,"ngIf"],["matTooltip","Ver \xFAltima ubicaci\xF3n conocida o destino en mapa",1,"summary-item","map-link"],[1,"section-divider"],[1,"tracking-timeline"],[1,"no-history-message"],[1,"summary-item",2,"font-weight","700 !important"],["matTooltip","Ver \xFAltima ubicaci\xF3n conocida o destino en mapa",1,"summary-item","map-link",3,"click"],["color","primary"],[1,"timeline-item"],["matListItemIcon","",1,"timeline-icon",3,"color"],["matListItemTitle","",1,"timeline-action",2,"font-weight","700 !important"],["matListItemLine","",1,"timeline-date",2,"font-weight","700 !important"],["matListItemLine","",1,"timeline-notes",2,"font-weight","700 !important"],["matListItemLine","",1,"timeline-change",2,"font-weight","700 !important"],[1,"timeline-connector",2,"font-weight","700 !important"],[1,"notes-icon"],[1,"info-message"]],template:function(e,r){if(e&1&&(m(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),u(4,"Rastrear Pedido"),s(),m(5,"mat-card-subtitle"),u(6,"Ingrese su c\xF3digo de seguimiento para ver el estado de su env\xEDo."),s()(),m(7,"mat-card-content")(8,"form",2),rt("ngSubmit",function(){return r.submitTracking()}),m(9,"mat-form-field",3)(10,"mat-label"),u(11,"C\xF3digo de Seguimiento"),s(),R(12,"input",4),m(13,"mat-icon",5),u(14,"search"),s(),D(15,Er,2,0,"mat-error")(16,Nr,2,0,"mat-error"),s(),m(17,"button",6),D(18,Fr,3,0)(19,Wr,2,0,"span"),s()()()(),D(20,zr,6,1,"mat-card",7)(21,Xr,37,22,"mat-card",8)(22,Br,6,0,"mat-card",9),s()),e&2){let o;l(8),E("formGroup",r.trackingForm),l(7),C(r.trackingCodeCtrl!=null&&r.trackingCodeCtrl.hasError("required")&&(r.trackingCodeCtrl!=null&&r.trackingCodeCtrl.touched)?15:-1),l(),C(r.trackingCodeCtrl!=null&&r.trackingCodeCtrl.hasError("minlength")&&(r.trackingCodeCtrl!=null&&r.trackingCodeCtrl.touched)?16:-1),l(),E("disabled",r.isLoading()),l(),C(r.isLoading()?18:19),l(2),C(r.searchAttempted()&&!r.isLoading()&&r.errorMessage()?20:-1),l(),C((o=r.trackedOrder())?21:r.searchAttempted()&&!r.isLoading()&&!r.errorMessage()?22:-1,o)}},dependencies:[qt,Lt,At,Ut,Ht,Rt,Gt,le,se,oe,ie,ae,ue,ce,me,xe,he,fe,pe,ge,Oe,Me,Ce,we,_e,be,re,ne,ee,Vt,Jt,te,Kt,Qt,Ie,ve,Se,ke,ye,De,Te,Pe,Ye,K],styles:['.tracking-page-container[_ngcontent-%COMP%]{padding:24px;max-width:900px;margin:20px auto;background-color:#f4f6f8;min-height:calc(100vh - 64px)}.tracking-form-card[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px 24px;border-radius:8px;background-color:#fff;box-shadow:0 2px 8px #00000014}.tracking-form-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.6em;font-weight:500;color:#303f9f}.tracking-form-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:20px;color:#616161}.tracking-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.tracking-form[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.track-button[_ngcontent-%COMP%]{padding:10px 0;font-weight:700!important;font-size:1.1em;text-transform:uppercase;letter-spacing:.5px;min-height:48px}.track-button[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-right:8px}.track-button[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]     circle{stroke:currentColor!important}.track-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:8px}.result-card[_ngcontent-%COMP%]{margin-top:24px;border-radius:8px;padding:0;background-color:#fff;box-shadow:0 2px 8px #0000000f}.order-details-card[_ngcontent-%COMP%]   mat-card-header.order-details-header[_ngcontent-%COMP%]{padding:20px 24px;background-color:#e8eaf6;border-bottom:1px solid #c5cae9;display:flex;justify-content:space-between;align-items:center}.order-details-card[_ngcontent-%COMP%]   mat-card-header.order-details-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.3em;font-weight:500;margin-bottom:4px;color:#283593}.order-details-card[_ngcontent-%COMP%]   mat-card-header.order-details-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:.9em;color:#546e7a}.order-details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px}.status-badge-tracking[_ngcontent-%COMP%]{padding:6px 14px;border-radius:16px;font-size:.85rem;font-weight:600;text-transform:uppercase;color:#fff;line-height:1.2}.order-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;background-color:#f8f9fa;border-radius:6px;border:1px solid #e9ecef}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:12px;color:#78909c}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95em;color:#495057}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#212529;font-weight:500}.order-summary[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{cursor:pointer}.order-summary[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]:hover{background-color:#e8eaf6;border-color:#9fa8da}.order-summary[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#283593}.order-summary[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#3f51b5}.section-divider[_ngcontent-%COMP%]{margin:24px 0;border-top-color:#e0e0e0}h3[_ngcontent-%COMP%]{font-size:1.25em;font-weight:500;margin-bottom:16px;color:#455a64;padding-bottom:8px;border-bottom:1px solid #e0e0e0}.tracking-timeline[_ngcontent-%COMP%]{padding-left:0;position:relative}.tracking-timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:20px;top:10px;bottom:10px;width:2px;background-color:#d1d5db;z-index:0}.timeline-item[_ngcontent-%COMP%]{position:relative;padding-left:50px!important;padding-bottom:20px!important;min-height:160px}.timeline-item[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-8px;top:4px;background-color:#fdfeff;border-radius:50%;z-index:1;font-size:28px;width:28px;height:28px}.timeline-item[_ngcontent-%COMP%]   .timeline-action[_ngcontent-%COMP%]{font-weight:500;font-size:1.05em;color:#374151;margin-bottom:4px}.timeline-item[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{font-size:.8em;color:#6b7280;margin-bottom:6px}.timeline-item[_ngcontent-%COMP%]   .timeline-notes[_ngcontent-%COMP%]{font-size:.85em;color:#4b5563;display:flex;align-items:center}.timeline-item[_ngcontent-%COMP%]   .timeline-notes[_ngcontent-%COMP%]   .notes-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:6px;opacity:.7}.timeline-item[_ngcontent-%COMP%]   .timeline-change[_ngcontent-%COMP%]{font-size:.8em;color:#4b5563;font-style:italic;margin-top:4px}.error-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]{margin-top:20px;text-align:center;background-color:#fff}.error-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;font-size:1.1em;color:#4b5563}.error-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:10px}.error-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ef4444}.error-card[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.no-history-message[_ngcontent-%COMP%]{font-style:italic;color:#6b7280;padding:20px 0;text-align:center}.status-registrado[_ngcontent-%COMP%]{background-color:#6610f2;color:#fff}.status-recogido[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff}.status-en-almacen[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;white-space:nowrap}.status-en-transito[_ngcontent-%COMP%]{background-color:#0c1a77;color:#d0c8c8;white-space:nowrap}.status-entregado[_ngcontent-%COMP%]{background-color:#198754;color:#fff}.status-no-entregado[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;white-space:nowrap}.status-cancelado[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.status-rechazado-en-punto[_ngcontent-%COMP%]{background-color:#ff6b6b;color:#fff;white-space:nowrap}.status-reprogramado[_ngcontent-%COMP%]{background-color:#adb5bd;color:#212529}']})};var zs=[{path:"",component:tt,title:"Rastrear Pedido"}];export{zs as TRACKING_ROUTES};
