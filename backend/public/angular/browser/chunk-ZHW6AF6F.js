import{a as W,b as N,c as z,h as F}from"./chunk-M6APXQQA.js";import{b as R}from"./chunk-ZQWPYXMK.js";import"./chunk-NKCNST4D.js";import"./chunk-3VA5ILTZ.js";import{i as T}from"./chunk-JPSKUWSR.js";import{a as E,b as k}from"./chunk-O7CKCNSQ.js";import"./chunk-VITECNWY.js";import{b as w,e as U}from"./chunk-GO2TRNSQ.js";import"./chunk-E5NRZ37D.js";import{Ab as P,Cb as g,Db as O,Dc as d,Ed as j,Fd as L,Ka as l,Pb as r,Sa as M,Ua as s,Ya as b,ba as C,bb as m,hb as I,l as _,lb as x,mb as D,na as u,nb as S,qb as p,ub as o,vb as a,wa as y,wb as c,xa as v}from"./chunk-DQQKDGFN.js";var f=class n{constructor(t,i){this.dialogRef=t;this.data=i}onNoClick(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||n)(b(W),b(N))};static \u0275cmp=m({type:n,selectors:[["app-image-dialog"]],decls:4,vars:2,consts:[[2,"width","100%","height","auto",3,"src","alt"],["mat-dialog-actions","",2,"display","flex","justify-content","center"],["mat-button","",1,"btn-corp-primary",3,"click"]],template:function(i,e){i&1&&(c(0,"img",0),o(1,"div",1)(2,"button",2),g("click",function(){return e.onNoClick()}),r(3," Cerrar "),a()()),i&2&&x("src",e.data.imageUrl,M)("alt",e.data.altText)},dependencies:[d,U,w],styles:["[_nghost-%COMP%]{display:block;max-width:80vw;max-height:80vh}"]})};function B(n,t){n&1&&(o(0,"div",1),c(1,"mat-progress-spinner",4),a())}function $(n,t){n&1&&(o(0,"div",2)(1,"mat-icon",5),r(2,"broken_image"),a(),o(3,"span",6),r(4,"No se pudo cargar la imagen"),a()())}function G(n,t){if(n&1){let i=P();o(0,"div",3)(1,"button",7),g("click",function(){y(i);let h=O();return v(h.openImageDialog())}),r(2," Ver Tarifa "),a()()}}var A=class n{imageUrl;altText="Displayed image";containerHeight="100px";containerWidth="100%";objectFit="contain";enableSpinner=!0;enableErrorIcon=!0;isLoading=l(!1);hasError=l(!1);isLoaded=l(!1);processedImageUrl=l(null);settingsService=u(R);destroy$=new _;dialog=u(z);ngOnInit(){this.settingsService.loadSettings().pipe(C(this.destroy$)).subscribe({next:t=>{if(t.length){if(this.isLoaded.set(!1),this.hasError.set(!1),!t[0].rates_image_url){this.isLoading.set(!1),this.hasError.set(!0),this.processedImageUrl.set(null),console.warn("ImageDisplayComponent: imageUrl is null or undefined.");return}console.log("loadedSettings[0].rates_image_url",t[0].rates_image_url),this.processedImageUrl.set(t[0].rates_image_url),this.enableSpinner&&this.isLoading.set(!0),this.openImageDialog()}},error:t=>{console.log("err",t)}})}openImageDialog(){this.dialog.open(f,{data:{imageUrl:this.processedImageUrl(),altText:this.altText},panelClass:"image-dialog"})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=m({type:n,selectors:[["app-image-display"]],inputs:{imageUrl:"imageUrl",altText:"altText",containerHeight:"containerHeight",containerWidth:"containerWidth",objectFit:"objectFit",enableSpinner:"enableSpinner",enableErrorIcon:"enableErrorIcon"},decls:4,vars:13,consts:[[1,"image-container"],[1,"overlay","spinner-overlay"],[1,"overlay","error-overlay"],[2,"border","0px solid black"],["mode","indeterminate","diameter","40"],[1,"error-icon"],[1,"error-text"],["mat-button","",1,"btn-corp-primary","image-button",2,"background-color","#f97c06","color","aliceblue","font-family","Montserrat","border-radius","9px",3,"click"]],template:function(i,e){i&1&&(o(0,"div",0),I(1,B,2,0,"div",1)(2,$,5,0,"div",2)(3,G,3,0,"div",3),a()),i&2&&(D("height",e.containerHeight)("width",e.containerWidth),S("loading",e.isLoading())("error",e.hasError())("loaded",e.isLoaded()),s(),p(e.isLoading()&&e.enableSpinner?1:-1),s(),p(e.hasError()&&e.enableErrorIcon&&!e.isLoading()?2:-1),s(),p(e.processedImageUrl()&&!e.hasError()?3:-1))},dependencies:[d,k,E,L,j,T,F],styles:[".image-button[_ngcontent-%COMP%]{font-size:1.2em;padding:.5em 1em;border-radius:5px;text-transform:uppercase;letter-spacing:1px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.image-button[_ngcontent-%COMP%]{margin-top:50px;font-size:1.2em!important;text-transform:uppercase;border:none}[_nghost-%COMP%]{display:block}.image-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:4px}.image-container.loaded[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.error-overlay[_ngcontent-%COMP%], .placeholder-overlay[_ngcontent-%COMP%]{text-align:center;padding:10px}.error-icon[_ngcontent-%COMP%], .placeholder-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:8px}.error-text[_ngcontent-%COMP%], .placeholder-text[_ngcontent-%COMP%]{font-size:.9em}"]})};export{A as ImageDisplayComponent};
