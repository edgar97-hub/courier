import{a as T}from"./chunk-VITECNWY.js";import{Cb as m,Hc as h,I as l,Ia as f,Jc as v,Wc as S,Ya as p,da as a,db as d,ia as u,na as s,t as c,u as n}from"./chunk-DQQKDGFN.js";var g=class i{http=s(v);apiUrl=S.apiUrl+"/settings";authService=s(T);uploadFile(e){let t=new FormData;t.append("file",e,e.name);let r=this.authService.getAccessToken();if(!r)return n(()=>new Error("Not authenticated to fetch users."));let o=new h({codrr_token:r});return this.http.post(`${this.apiUrl}/upload-file`,t,{headers:o}).pipe(a(H=>console.log("SettingsService: Terms PDF uploaded",H)),l(this.handleError("file")))}handleError(e="operation",t){return r=>(console.error(`${e} failed: ${r.message}`,r),t!==void 0?c(t):n(()=>new Error(`Error in ${e}. Details: ${r.message||"Server error"}`)))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})};var E=class i{constructor(e){this.el=e}alreadySelected=!1;onFocus(){this.selectText()}onClickOrTouch(){this.alreadySelected||(this.selectText(),this.alreadySelected=!0,setTimeout(()=>this.alreadySelected=!1,1e3))}selectText(){setTimeout(()=>{let e=this.el.nativeElement;e&&typeof e.select=="function"&&e.select()},0)}static \u0275fac=function(t){return new(t||i)(p(f))};static \u0275dir=d({type:i,selectors:[["","appAutoSelect",""]],hostBindings:function(t,r){t&1&&m("focus",function(){return r.onFocus()})("click",function(){return r.onClickOrTouch()})("touchend",function(){return r.onClickOrTouch()})}})};export{g as a,E as b};
