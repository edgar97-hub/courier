import{a as he,b as Me,c as Ce,d as ve}from"./chunk-XHWUTENY.js";import{a as et,b as tt,c as at,d as nt,g as de,h as rt}from"./chunk-HGPHA7DX.js";import"./chunk-CL5SDS67.js";import{a as mt,b as lt,c as st,d as ct,e as dt,f as pt,g as ft,h as ut,i as gt,j as ht,k as Mt,l as Ct,n as ge,o as _t,p as bt}from"./chunk-AHO7UDPR.js";import"./chunk-MS4AQ6UA.js";import{d as ue,e as vt}from"./chunk-7I3QWZBN.js";import{a as pe,b as fe}from"./chunk-XC4JK7T6.js";import{a as ie,b as oe,c as it,d as ot,e as re,f as me,g as le,h as se}from"./chunk-MJOVE2YB.js";import{d as ce}from"./chunk-XTLFEAFI.js";import"./chunk-MW2V4VAY.js";import"./chunk-CSWUMH3X.js";import{d as Z,e as ee}from"./chunk-A2GZCIHE.js";import{a as ne}from"./chunk-YSXPYM2V.js";import"./chunk-7RWCIHFI.js";import{C as W,F as X,G as Xe,b as G,d as F,f as z,g as U,l as Je,m as Ke,o as Q,r as q,v as Y,x as J,y as K,z as We}from"./chunk-I57H2NTY.js";import"./chunk-7SNYFGVH.js";import"./chunk-NTJKNPMM.js";import{a as ze,b as Ue,d as Qe,g as qe,i as Ye}from"./chunk-ABVOVIA5.js";import{a as $,b as H}from"./chunk-42JOKCMC.js";import{a as Ge}from"./chunk-QOYZNJPJ.js";import{a as Ze,b as O,e as k}from"./chunk-JRHRK62N.js";import"./chunk-J25GVFCX.js";import{$b as b,Ac as Ve,Bb as M,Cb as E,Cc as I,Dd as te,Ed as ae,Gc as we,Hc as Ie,Ib as Se,Ic as $e,Jb as ye,Kb as Ee,Nb as P,Ob as o,Pb as j,Qb as f,S as L,Ta as m,Vc as He,Xa as p,Xb as V,Yb as Pe,_b as Be,a as xe,ab as y,ac as De,b as Le,bc as D,gb as d,ha as Re,kb as s,la as Ne,ma as A,sc as Ae,t as B,tb as i,u as x,ub as a,uc as w,va as g,vb as u,wa as h,wb as v,wc as je,xb as _,yc as S,zb as R}from"./chunk-NTZTTLCP.js";var T=class t{constructor(e){this.http=e}apiUrl=`${He.apiUrl}/cash-management`;authService=A(Ge);getAuthHeaders(){let e=this.authService.getAccessToken();return e?new we({"Content-Type":"application/json",codrr_token:e}):new we({"Content-Type":"application/json"})}getAllCashMovements(e,n=1,r=10){let l=this.getAuthHeaders();if(!this.authService.getAccessToken())return x(()=>new Error("Not authenticated to fetch cash movements."));let c=new Ie;if(e)for(let C in e)e.hasOwnProperty(C)&&e[C]&&(c=c.append(C,e[C]));return c=c.append("page_number",n.toString()),c=c.append("page_size",r.toString()),this.http.get(`${this.apiUrl}/movements`,{params:c,headers:l})}getCashMovementSummary(e){let n=this.getAuthHeaders();if(!this.authService.getAccessToken())return x(()=>new Error("Not authenticated to fetch cash movement summary."));let r=new Ie;if(e)for(let l in e)e.hasOwnProperty(l)&&e[l]&&(r=r.append(l,e[l]));return this.http.get(`${this.apiUrl}/summary`,{params:r,headers:n})}createManualMovement(e){let n=this.getAuthHeaders();return this.authService.getAccessToken()?this.http.post(`${this.apiUrl}/manual-movement`,e,{headers:n}):x(()=>new Error("Not authenticated to create cash movement."))}updateCashMovement(e,n){let r=this.getAuthHeaders();return this.authService.getAccessToken()?this.http.put(`${this.apiUrl}/${e}`,n,{headers:r}):x(()=>new Error("Not authenticated to update cash movement."))}deleteCashMovement(e){let n=this.getAuthHeaders();return this.authService.getAccessToken()?this.http.delete(`${this.apiUrl}/${e}`,{headers:n}):x(()=>new Error("Not authenticated to delete cash movement."))}generatePdf(e){let n=this.getAuthHeaders().set("Accept","application/pdf");return this.authService.getAccessToken()?this.http.get(`${this.apiUrl}/${e}/pdf`,{headers:n,responseType:"blob"}):x(()=>new Error("Not authenticated to generate PDF."))}static \u0275fac=function(n){return new(n||t)(Ne($e))};static \u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})};function Lt(t,e){t&1&&(i(0,"mat-error"),o(1,"La fecha es requerida"),a())}function Rt(t,e){t&1&&(i(0,"mat-error"),o(1,"El monto es requerido"),a())}function Nt(t,e){t&1&&(i(0,"mat-error"),o(1,"El monto debe ser mayor o igual a 0"),a())}function Bt(t,e){t&1&&(i(0,"mat-error"),o(1,"El tipo de movimiento es requerido"),a())}function At(t,e){t&1&&(i(0,"mat-error"),o(1,"La forma de pago es requerida"),a())}function jt(t,e){t&1&&u(0,"mat-spinner",20)}function Vt(t,e){t&1&&(i(0,"span"),o(1,"Guardar"),a())}var N=class t{constructor(e,n,r,l,c){this.fb=e;this.dialogRef=n;this.cashManagementService=r;this.snackBar=l;this.data=c;this.movementForm=this.fb.group({date:[new Date,F.required],amount:[null,[F.required,F.min(0)]],typeMovement:["",F.required],paymentsMethod:["",F.required],description:[""]})}movementForm;isLoading=!1;minDate=null;ngOnInit(){if(this.data){let e=null;if(this.data.date){let n=this.data.date.split("-");e=new Date(parseInt(n[0]),parseInt(n[1])-1,parseInt(n[2]))}this.movementForm.patchValue(Le(xe({},this.data),{date:e}))}}onSave(){if(this.movementForm.valid&&!this.isLoading){this.isLoading=!0;let e=xe({},this.movementForm.value);(this.data&&this.data.id?this.cashManagementService.updateCashMovement(this.data.id,e):this.cashManagementService.createManualMovement(e)).pipe(L(()=>this.isLoading=!1)).subscribe({next:r=>{this.snackBar.open("Movimiento registrado exitosamente","Cerrar",{duration:3e3}),this.dialogRef.close(!0)},error:r=>{this.snackBar.open("Error al registrar movimiento: "+r.message,"Cerrar",{duration:3e3}),console.error("Error creating cash movement:",r)}})}}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(n){return new(n||t)(p(Y),p(ie),p(T),p(ne),p(oe))};static \u0275cmp=y({type:t,selectors:[["app-cash-movement-form"]],features:[V([rt(),S])],decls:46,vars:13,consts:[["picker",""],["mat-dialog-title","",1,"page-header",2,"font-weight","700 !important"],[1,"cash-movement-dialog-content",3,"formGroup"],[1,"wrapper-form-field"],["appearance","outline",1,"cash-movement-form-field"],["matInput","","formControlName","date",3,"matDatepicker","min"],["matSuffix","",3,"for"],[4,"ngIf"],["matInput","","type","number","formControlName","amount","placeholder","Ej: 100.50"],["formControlName","typeMovement"],["value","INGRESO"],["value","EGRESO"],["formControlName","paymentsMethod"],["value","Efectivo"],["value","Otros"],["matInput","","formControlName","description","placeholder","Ej: Compra de insumos","rows","3"],["align","end",1,"cash-movement-dialog-actions"],["mat-button","",1,"btn-corp-secondary",3,"click","disabled"],["mat-raised-button","","color","primary",1,"btn-corp-primary",3,"click","disabled"],["diameter","20",4,"ngIf"],["diameter","20"]],template:function(n,r){if(n&1){let l=R();i(0,"h1",1),o(1,` Formulario de Movimiento de Caja
`),a(),i(2,"mat-dialog-content",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),o(6,"Fecha"),a(),u(7,"input",5)(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,0),d(11,Lt,2,0,"mat-error",7),a(),i(12,"mat-form-field",4)(13,"mat-label"),o(14,"Monto"),a(),u(15,"input",8),d(16,Rt,2,0,"mat-error",7)(17,Nt,2,0,"mat-error",7),a(),i(18,"mat-form-field",4)(19,"mat-label"),o(20,"Tipo de Movimiento"),a(),i(21,"mat-select",9)(22,"mat-option",10),o(23,"Ingreso"),a(),i(24,"mat-option",11),o(25,"Egreso"),a()(),d(26,Bt,2,0,"mat-error",7),a(),i(27,"mat-form-field",4)(28,"mat-label"),o(29,"Forma de Pago"),a(),i(30,"mat-select",12)(31,"mat-option",13),o(32,"Efectivo"),a(),i(33,"mat-option",14),o(34,"Otros"),a()(),d(35,At,2,0,"mat-error",7),a(),i(36,"mat-form-field",4)(37,"mat-label"),o(38,"Descripci\xF3n / Motivo"),a(),u(39,"textarea",15),a()()(),i(40,"mat-dialog-actions",16)(41,"button",17),M("click",function(){return g(l),h(r.onCancel())}),o(42," Cancelar "),a(),i(43,"button",18),M("click",function(){return g(l),h(r.onSave())}),d(44,jt,1,0,"mat-spinner",19)(45,Vt,2,0,"span",7),a()()}if(n&2){let l,c,C,Oe,ke,Te=P(10);m(2),s("formGroup",r.movementForm),m(5),s("matDatepicker",Te)("min",r.minDate),m(),s("for",Te),m(3),s("ngIf",(l=r.movementForm.get("date"))==null?null:l.hasError("required")),m(5),s("ngIf",(c=r.movementForm.get("amount"))==null?null:c.hasError("required")),m(),s("ngIf",(C=r.movementForm.get("amount"))==null?null:C.hasError("min")),m(9),s("ngIf",(Oe=r.movementForm.get("typeMovement"))==null?null:Oe.hasError("required")),m(9),s("ngIf",(ke=r.movementForm.get("paymentsMethod"))==null?null:ke.hasError("required")),m(6),s("disabled",r.isLoading),m(2),s("disabled",r.movementForm.invalid||r.isLoading),m(),s("ngIf",r.isLoading),m(),s("ngIf",!r.isLoading)}},dependencies:[I,w,J,G,Ke,z,U,Q,q,ee,Z,X,K,We,W,k,O,fe,pe,ce,ve,he,Me,Ce,de,se,re,le,me,Xe,H,$],styles:[".cash-movement-dialog-content[_ngcontent-%COMP%]{padding:.75rem;overflow-y:auto;max-height:50vh}.wrapper-form-field[_ngcontent-%COMP%]{padding:20px}.cash-movement-form-field[_ngcontent-%COMP%]{margin-bottom:.5rem}.cash-movement-dialog-actions[_ngcontent-%COMP%]{padding:.75rem 1rem;border-top:1px solid #eee;background-color:#f9f9f9}.cash-movement-action-button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.8rem;border-radius:.25rem;transition:all .2s ease-in-out}.cash-movement-action-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 1px 2px #0000001a}.cash-movement-action-button[color=primary][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.cash-movement-action-button[color=accent][_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}@media (max-width: 768px){.cash-movement-dialog-content[_ngcontent-%COMP%]{padding:.5rem}.cash-movement-dialog-actions[_ngcontent-%COMP%]{padding:.5rem;flex-direction:column;gap:.4rem}.cash-movement-action-button[_ngcontent-%COMP%]{width:100%}}"]})};function Ht(t,e){if(t&1&&(i(0,"mat-icon",6),o(1),a()),t&2){let n=E();s("color",n.data.iconColor||"primary"),m(),j(n.data.icon)}}var _e=class t{constructor(e,n){this.dialogRef=e;this.data=n}static \u0275fac=function(n){return new(n||t)(p(ie),p(oe))};static \u0275cmp=y({type:t,selectors:[["app-confirm-dialog"]],decls:12,vars:8,consts:[[1,"confirm-dialog-container"],["class","dialog-icon",3,"color",4,"ngIf"],["mat-dialog-title",""],[2,"display","flex","flex-direction","row"],["mat-stroked-button","",1,"btn-corp-secondary",3,"mat-dialog-close"],["mat-raised-button","",1,"btn-corp-primary",3,"color","mat-dialog-close"],[1,"dialog-icon",3,"color"]],template:function(n,r){n&1&&(i(0,"div",0),d(1,Ht,2,2,"mat-icon",1),i(2,"h2",2),o(3),a(),i(4,"mat-dialog-content")(5,"p"),o(6),a()(),i(7,"mat-dialog-actions",3)(8,"button",4),o(9),a(),i(10,"button",5),o(11),a()()()),n&2&&(m(),s("ngIf",r.data.icon),m(2),j(r.data.title),m(3),j(r.data.message),m(2),s("mat-dialog-close",!1),m(),f(" ",r.data.cancelButtonText," "),m(),s("color",r.data.confirmButtonColor)("mat-dialog-close",!0),m(),f(" ",r.data.confirmButtonText," "))},dependencies:[I,w,se,ot,re,le,me,k,O,ae,te],styles:[".confirm-dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:24px;text-align:center;border:2px solid var(--mat-dialog-container-border-color, #ccc);border-radius:8px}.dialog-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}mat-dialog-title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin-bottom:16px;color:var(--mat-dialog-title-color, inherit)}mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:24px}"]})};var Gt=()=>[],zt=()=>[5,10,20,50],Ut=(t,e)=>({"text-green-700":t,"text-red-700":e});function Qt(t,e){t&1&&(i(0,"div",45),u(1,"mat-spinner",46),a())}function qt(t,e){if(t&1&&(i(0,"div",47)(1,"mat-card",48)(2,"mat-card-content")(3,"div",49),o(4,"Total Ingresos"),a(),i(5,"div",50),o(6),b(7,"currency"),a()()(),i(8,"mat-card",51)(9,"mat-card-content")(10,"div",49),o(11,"Total Egresos"),a(),i(12,"div",50),o(13),b(14,"currency"),a()()(),i(15,"mat-card",52)(16,"mat-card-content")(17,"div",49),o(18,"Saldo del Periodo"),a(),i(19,"div",53),o(20),b(21,"currency"),a()()()()),t&2){let n=e.ngIf;m(6),f(" ",D(7,4,n.totalIncome,"S/ ")," "),m(7),f(" ",D(14,7,n.totalExpense,"S/ ")," "),m(6),s("ngClass",Be(13,Ut,n.balance>=0,n.balance<0)),m(),f(" ",D(21,10,n.balance,"S/ ")," ")}}function Yt(t,e){t&1&&(i(0,"div",45),u(1,"mat-spinner",46),a())}function Jt(t,e){t&1&&(i(0,"th",54),o(1," N\xB0 "),a())}function Kt(t,e){if(t&1&&(i(0,"td",55),o(1),a()),t&2){let n=e.$implicit;m(),f(" ",n.code," ")}}function Wt(t,e){t&1&&(i(0,"th",54),o(1," Fecha "),a())}function Xt(t,e){if(t&1&&(i(0,"td",55),o(1),b(2,"date"),a()),t&2){let n=e.$implicit;m(),f(" ",D(2,1,n.date,"dd/MM/yyyy")," ")}}function Zt(t,e){t&1&&(i(0,"th",54),o(1," Tipo "),a())}function ea(t,e){if(t&1&&(i(0,"td",55),o(1),a()),t&2){let n=e.$implicit;m(),f(" ",n.typeMovement," ")}}function ta(t,e){t&1&&(i(0,"th",54),o(1," Monto "),a())}function aa(t,e){if(t&1&&(i(0,"td",55),o(1),b(2,"currency"),a()),t&2){let n=e.$implicit;m(),f(" ",D(2,1,n.amount,"S/ ")," ")}}function na(t,e){t&1&&(i(0,"th",54),o(1," Forma de Pago "),a())}function ia(t,e){if(t&1&&(i(0,"td",55),o(1),a()),t&2){let n=e.$implicit;m(),f(" ",n.paymentsMethod," ")}}function oa(t,e){t&1&&(i(0,"th",54),o(1," Descripci\xF3n "),a())}function ra(t,e){if(t&1&&(i(0,"td",55),o(1),a()),t&2){let n=e.$implicit;m(),f(" ",n.description," ")}}function ma(t,e){t&1&&(i(0,"th",54),o(1," Usuario "),a())}function la(t,e){if(t&1&&(i(0,"td",55),o(1),a()),t&2){let n=e.$implicit;m(),f(" ",n.user==null?null:n.user.username," ")}}function sa(t,e){t&1&&(i(0,"th",56),o(1," Acciones "),a())}function ca(t,e){if(t&1){let n=R();i(0,"td",57)(1,"button",58)(2,"mat-icon"),o(3,"more_vert"),a()(),i(4,"mat-menu",null,2)(6,"button",59),M("click",function(){let l=g(n).$implicit,c=E();return h(c.editMovement(l))}),i(7,"mat-icon"),o(8,"edit"),a(),i(9,"span"),o(10,"Editar"),a()(),i(11,"button",59),M("click",function(){let l=g(n).$implicit,c=E();return h(c.generatePdf(l.id))}),i(12,"mat-icon"),o(13,"picture_as_pdf"),a(),i(14,"span"),o(15,"Generar PDF"),a()(),i(16,"button",59),M("click",function(){let l=g(n).$implicit,c=E();return h(c.deleteMovement(l.id))}),i(17,"mat-icon"),o(18,"delete"),a(),i(19,"span"),o(20,"Eliminar"),a()()()()}if(t&2){let n=P(5);m(),s("matMenuTriggerFor",n)}}function da(t,e){t&1&&u(0,"tr",60)}function pa(t,e){t&1&&u(0,"tr",61)}function fa(t,e){t&1&&(i(0,"tr",62)(1,"td",63),o(2," No hay movimientos de caja que coincidan con los filtros. "),a()())}var be=class t{constructor(e,n,r,l){this.fb=e;this.cashManagementService=n;this.dialog=r;this.snackBar=l;let c=new Date;this.filterForm=this.fb.group({startDate:[c],endDate:[c],typeMovement:[""],paymentsMethod:[""],userId:[""]})}filterForm;displayedColumns=["code","date","typeMovement","amount","paymentsMethod","description","user","actions"];cashMovements$=B([]);summary$=B({totalIncome:0,totalExpense:0,balance:0});totalItems=0;pageSize=10;pageNumber=1;datePipe=A(S);isLoadingResults=!1;isLoadingSummary=!1;paginator;sort;ngOnInit(){this.applyFilters()}applyFilters(){let e=this.filterForm.value;e.startDate&&(e.startDate=this.datePipe.transform(e.startDate,"yyyy-MM-dd")||""),e.endDate&&(e.endDate=this.datePipe.transform(e.endDate,"yyyy-MM-dd")||""),this.isLoadingResults=!0,this.cashManagementService.getAllCashMovements(e,this.pageNumber,this.pageSize).pipe(L(()=>this.isLoadingResults=!1)).subscribe(n=>{this.cashMovements$=B(n.movements),this.totalItems=n.total}),this.isLoadingSummary=!0,this.summary$=this.cashManagementService.getCashMovementSummary(e).pipe(L(()=>this.isLoadingSummary=!1))}onPageChange(e){this.pageNumber=e.pageIndex+1,this.pageSize=e.pageSize,this.applyFilters()}openAddMovementDialog(){this.dialog.open(N,{width:"400px"}).afterClosed().subscribe(n=>{n&&this.applyFilters()})}editMovement(e){this.dialog.open(N,{width:"400px",data:e}).afterClosed().subscribe(r=>{r&&this.applyFilters()})}deleteMovement(e){let n={title:"Confirmar Eliminaci\xF3n",message:"\xBFEst\xE1s seguro de que quieres eliminar este movimiento de caja? Esta acci\xF3n no se puede deshacer.",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"warn"};this.dialog.open(_e,{width:"350px",data:n}).afterClosed().subscribe(l=>{l&&this.cashManagementService.deleteCashMovement(e).subscribe({next:()=>{this.snackBar.open("Movimiento eliminado exitosamente","Cerrar",{duration:3e3}),this.applyFilters()},error:c=>{this.snackBar.open("Error al eliminar movimiento: "+c.message,"Cerrar",{duration:3e3}),console.error("Error deleting cash movement:",c)}})})}generatePdf(e){this.cashManagementService.generatePdf(e).subscribe({next:n=>{let r=window.URL.createObjectURL(n),l=document.createElement("a");l.href=r,l.download=`movimiento_${e}.pdf`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),document.body.removeChild(l),this.snackBar.open("PDF generado exitosamente","Cerrar",{duration:3e3})},error:n=>{this.snackBar.open("Error al generar PDF: "+n.message,"Cerrar",{duration:3e3}),console.error("Error generating PDF:",n)}})}static \u0275fac=function(n){return new(n||t)(p(Y),p(T),p(it),p(ne))};static \u0275cmp=y({type:t,selectors:[["app-cash-management-list-page"]],viewQuery:function(n,r){if(n&1&&(Se(ue,5),Se(ge,5)),n&2){let l;ye(l=Ee())&&(r.paginator=l.first),ye(l=Ee())&&(r.sort=l.first)}},features:[V([S])],decls:93,vars:20,consts:[["startDatePicker",""],["endDatePicker",""],["actionsMenu","matMenu"],[1,"page-container"],[1,"mat-card"],[1,"mat-card-header"],[1,"mat-card-title"],[1,"filter-form",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","endDate",3,"matDatepicker"],["formControlName","typeMovement"],["value",""],["value","INGRESO"],["value","EGRESO"],["formControlName","paymentsMethod"],["value","Efectivo"],["value","Otros"],[1,"form-actions"],["mat-raised-button","","color","primary",1,"btn-corp-primary",3,"click"],["mat-raised-button","","color","accent",1,"btn-corp-primary",3,"click"],[1,"mat-card","summary-section"],["class","loading-overlay",4,"ngIf"],["class","summary-grid",4,"ngIf"],[1,"mat-cards"],[1,"mat-card-headers"],[1,""],["mat-table","","matSort","",1,"mat-table",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","","class","mat-header-cell",4,"matHeaderCellDef"],["mat-cell","","class","mat-cell",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","typeMovement"],["matColumnDef","amount"],["matColumnDef","paymentsMethod"],["matColumnDef","description"],["matColumnDef","user"],["matColumnDef","actions"],["mat-header-cell","","class","mat-header-cell",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions"],[1,"loading-overlay"],["diameter","30"],[1,"summary-grid"],[1,"summary-card","income-card"],[1,"summary-label"],[1,"summary-value"],[1,"summary-card","expense-card"],[1,"summary-card","balance-card"],[1,"summary-value",3,"ngClass"],["mat-header-cell","","mat-sort-header","",1,"mat-header-cell"],["mat-cell","",1,"mat-cell"],["mat-header-cell","",1,"mat-header-cell"],["mat-cell",""],["mat-icon-button","","aria-label","Acciones",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","7",1,"mat-cell"]],template:function(n,r){if(n&1){let l=R();i(0,"div",3)(1,"mat-card",4)(2,"mat-card-header",5)(3,"mat-card-title",6),o(4,"Gesti\xF3n de Caja"),a()(),i(5,"mat-card-content")(6,"form",7)(7,"mat-form-field",8)(8,"mat-label"),o(9,"Fecha Inicio"),a(),u(10,"input",9)(11,"mat-datepicker-toggle",10)(12,"mat-datepicker",null,0),a(),i(14,"mat-form-field",8)(15,"mat-label"),o(16,"Fecha Fin"),a(),u(17,"input",11)(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,1),a(),i(21,"mat-form-field",8)(22,"mat-label"),o(23,"Tipo de Movimiento"),a(),i(24,"mat-select",12)(25,"mat-option",13),o(26,"Todos"),a(),i(27,"mat-option",14),o(28,"Ingreso"),a(),i(29,"mat-option",15),o(30,"Egreso"),a()()(),i(31,"mat-form-field",8)(32,"mat-label"),o(33,"Forma de Pago"),a(),i(34,"mat-select",16)(35,"mat-option",13),o(36,"Todos"),a(),i(37,"mat-option",17),o(38,"Efectivo"),a(),i(39,"mat-option",18),o(40,"Otros"),a()()()(),i(41,"div",19)(42,"button",20),M("click",function(){return g(l),h(r.applyFilters())}),i(43,"mat-icon"),o(44,"filter_list"),a(),o(45," Aplicar Filtros "),a(),i(46,"button",21),M("click",function(){return g(l),h(r.openAddMovementDialog())}),i(47,"mat-icon"),o(48,"add"),a(),o(49," Registrar Movimiento "),a()()()(),i(50,"mat-card",22)(51,"mat-card-header",5)(52,"mat-card-title",6),o(53,"Resumen de Saldos"),a()(),i(54,"mat-card-content"),d(55,Qt,2,0,"div",23)(56,qt,22,16,"div",24),b(57,"async"),a()(),i(58,"mat-card",25),u(59,"mat-card-header",26),i(60,"mat-card-content"),d(61,Yt,2,0,"div",23),i(62,"div",27)(63,"table",28),b(64,"async"),v(65,29),d(66,Jt,2,0,"th",30)(67,Kt,2,1,"td",31),_(),v(68,32),d(69,Wt,2,0,"th",30)(70,Xt,3,4,"td",31),_(),v(71,33),d(72,Zt,2,0,"th",30)(73,ea,2,1,"td",31),_(),v(74,34),d(75,ta,2,0,"th",30)(76,aa,3,4,"td",31),_(),v(77,35),d(78,na,2,0,"th",30)(79,ia,2,1,"td",31),_(),v(80,36),d(81,oa,2,0,"th",30)(82,ra,2,1,"td",31),_(),v(83,37),d(84,ma,2,0,"th",30)(85,la,2,1,"td",31),_(),v(86,38),d(87,sa,2,0,"th",39)(88,ca,21,1,"td",40),_(),d(89,da,1,0,"tr",41)(90,pa,1,0,"tr",42)(91,fa,3,0,"tr",43),a(),i(92,"mat-paginator",44),M("page",function(C){return g(l),h(r.onPageChange(C))}),a()()()()()}if(n&2){let l=P(13),c=P(20);m(6),s("formGroup",r.filterForm),m(4),s("matDatepicker",l),m(),s("for",l),m(6),s("matDatepicker",c),m(),s("for",c),m(37),s("ngIf",r.isLoadingSummary),m(),s("ngIf",De(57,14,r.summary$)),m(5),s("ngIf",r.isLoadingResults),m(2),s("dataSource",De(64,16,r.cashMovements$)||Pe(18,Gt)),m(26),s("matHeaderRowDef",r.displayedColumns),m(),s("matRowDefColumns",r.displayedColumns),m(2),s("length",r.totalItems)("pageSize",r.pageSize)("pageSizeOptions",Pe(19,zt))}},dependencies:[I,Ae,w,je,Ve,S,Ye,ze,Qe,qe,Ue,Ct,mt,st,ft,ct,lt,ut,dt,pt,gt,ht,Mt,vt,ue,bt,ge,_t,ee,Z,X,K,W,k,O,Ze,ae,te,fe,pe,ce,ve,he,Me,Ce,de,J,Je,G,z,U,Q,q,H,$,nt,tt,et,at],styles:[".page-container[_ngcontent-%COMP%]{background-color:#f9fafb;min-height:100vh}.mat-card[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d;border-radius:.2rem}.mat-card-header[_ngcontent-%COMP%]{padding:.4rem .6rem;border-bottom:1px solid #e5e7eb;margin-bottom:.4rem}.mat-card-title[_ngcontent-%COMP%]{color:#1f2937;font-weight:900;font-size:1.4rem;padding:7px!important}.filter-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.4rem}.mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:0;font-size:.75rem}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;gap:.3rem;margin-top:0!important;font-weight:700!important}@media (min-width: 640px){.form-actions[_ngcontent-%COMP%]{flex-direction:row}}.action-button[_ngcontent-%COMP%]{width:100%;padding:.3rem .6rem;font-size:.7rem;font-weight:600;border-radius:.15rem;transition:all .2s ease-in-out}@media (min-width: 640px){.action-button[_ngcontent-%COMP%]{width:auto}}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 1px 2px #00000014}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.4rem;text-align:center}.summary-card[_ngcontent-%COMP%]{padding:.1rem!important;background-color:#fff;border:1px solid #e5e7eb;border-radius:.2rem;box-shadow:0 1px 2px #00000005}.summary-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.summary-label[_ngcontent-%COMP%]{color:#4b5563;font-weight:700}.summary-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-top:.05rem}.income-card[_ngcontent-%COMP%]{background-color:#e6ffe6;border-color:#6c6}.income-card[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#28a745}.expense-card[_ngcontent-%COMP%]{background-color:#ffe6e6;border-color:#f66}.expense-card[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#dc3545}.balance-card[_ngcontent-%COMP%]{background-color:#e6f7ff;border-color:#66b3ff}.balance-card[_ngcontent-%COMP%]   .summary-value.text-green-700[_ngcontent-%COMP%]{color:#28a745}.balance-card[_ngcontent-%COMP%]   .summary-value.text-red-700[_ngcontent-%COMP%]{color:#dc3545}.mat-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.75rem}.mat-header-cell[_ngcontent-%COMP%]{text-align:left;color:#374151;font-weight:700;letter-spacing:.005em;padding:.25rem .4rem;border-bottom:1px solid #e5e7eb}.mat-cell[_ngcontent-%COMP%]{color:#1f2937;padding:.25rem .4rem;border-bottom:1px solid #e5e7eb}tr.mat-header-row[_ngcontent-%COMP%]{border-bottom:2px solid #d1d5db}tr.mat-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.mat-no-data-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-align:center;padding-top:.4rem;padding-bottom:.4rem;color:#6b7280;font-style:italic}@media (max-width: 768px){.mat-table[_ngcontent-%COMP%]{display:block;overflow-x:auto;-webkit-overflow-scrolling:touch}}"]})};var wn=[{path:"",component:be}];export{wn as CASH_MANAGEMENT_ROUTES};
