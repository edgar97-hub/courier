import{b as re}from"./chunk-ROMPM4OS.js";import"./chunk-YWJ7YDH4.js";import{a as le}from"./chunk-QD6P4UPR.js";import"./chunk-QW3LQFON.js";import{d as ee,e as te}from"./chunk-PIM5JW6K.js";import"./chunk-5B4NE2BL.js";import"./chunk-SGYCFQGT.js";import{C as Z,D as $,b as B,d as g,f as U,g as j,l as G,o as V,p as H,r as J,s as K,u as Q,v as W,w as X,z as Y}from"./chunk-5E3ALB3J.js";import"./chunk-4HLPQ3MO.js";import"./chunk-SH5IQZAH.js";import{c as I,d as E,h as O}from"./chunk-LONJ5JQN.js";import{a as k,b as N,d as T,f as D,g as q,i as z}from"./chunk-4UISFGQU.js";import{a as R,b as A}from"./chunk-6QWK72ZE.js";import{a as ae,b as me}from"./chunk-V3XFB2MU.js";import{a as oe,b as ne,e as ie}from"./chunk-EHVJKBXY.js";import"./chunk-ZDC23HDZ.js";import{$c as b,Db as S,Eb as m,Fb as w,Nb as t,Ob as o,Pb as p,Qa as x,Tc as f,Vb as d,Zb as P,db as y,f as h,fc as r,gb as i,gc as F,hc as L,kb as c,ld as M,rb as u,wa as v,xb as s}from"./chunk-XL3VFI5A.js";function ue(n,a){n&1&&(t(0,"mat-error"),r(1,"Se requiere correo "),o())}function fe(n,a){n&1&&(t(0,"mat-error"),r(1,"Por favor, introduce una direcci\xF3n de correo electr\xF3nico v\xE1lida"),o())}function be(n,a){n&1&&(t(0,"mat-error"),r(1,"Se requiere contrase\xF1a"),o())}function Ce(n,a){n&1&&(t(0,"mat-error"),r(1,"La contrase\xF1a debe tener al menos 6 caracteres."),o())}var C=class n{constructor(a){this.fb=a;this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],rememberMe:[!1]})}isLoading=!1;loginSubmit=new x;loginForm;hidePassword=!0;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid?this.loginSubmit.emit(this.loginForm.value):this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||n)(c(K))};static \u0275cmp=u({type:n,selectors:[["app-login-form"]],inputs:{isLoading:"isLoading"},outputs:{loginSubmit:"loginSubmit"},decls:20,vars:11,consts:[["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","pat@example.com","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-flat-button","","type","submit",1,"full-width","login-button","btn-corp-primary",3,"disabled"]],template:function(l,e){l&1&&(t(0,"form",0),d("ngSubmit",function(){return e.onSubmit()}),t(1,"mat-form-field",1)(2,"mat-label"),r(3,"Correo"),o(),p(4,"input",2),t(5,"mat-icon",3),r(6,"email"),o(),s(7,ue,2,0,"mat-error",4)(8,fe,2,0,"mat-error",4),o(),t(9,"mat-form-field",1)(10,"mat-label"),r(11,"Password"),o(),p(12,"input",5),t(13,"button",6),d("click",function(){return e.hidePassword=!e.hidePassword}),t(14,"mat-icon"),r(15),o()(),s(16,be,2,0,"mat-error",4)(17,Ce,2,0,"mat-error",4),o(),t(18,"button",7),r(19),o()()),l&2&&(m("formGroup",e.loginForm),i(7),m("ngIf",e.email==null?null:e.email.hasError("required")),i(),m("ngIf",e.email==null?null:e.email.hasError("email")),i(4),m("type",e.hidePassword?"password":"text"),i(),S("aria-label","Hide password")("aria-pressed",e.hidePassword),i(2),F(e.hidePassword?"visibility_off":"visibility"),i(),m("ngIf",e.password==null?null:e.password.hasError("required")),i(),m("ngIf",e.password==null?null:e.password.hasError("minlength")),i(),m("disabled",e.isLoading||e.loginForm.invalid),i(),L(" ",e.isLoading?"Iniciando sesi\xF3n...":"Acceder al sistema"," "))},dependencies:[b,f,Q,G,B,U,j,J,V,H,$,Z,W,X,Y,te,ee,ie,ne,oe,re,me,ae],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{padding:10px 0;font-size:1.1em;text-transform:uppercase;letter-spacing:.5px}"]})};function Me(n,a){n&1&&(t(0,"div",10),p(1,"mat-progress-spinner",11),o())}var pe=class n{constructor(a){this.router=a}appStore=v(le);backgroundImageUrl=M.apiUrl+"/settings/company/background-image";logoImageUrl=M.apiUrl+"/settings/company/logo-image";onLogin(a){return h(this,null,function*(){yield this.appStore.login(a)})}static \u0275fac=function(l){return new(l||n)(c(I))};static \u0275cmp=u({type:n,selectors:[["app-login-page"]],decls:15,vars:5,consts:[[1,"login-page-wrapper"],[1,"login-card"],[1,"login-card-header"],[1,"logo-wrapper"],[2,"width","200px","border","0px solid black",3,"src"],[2,"margin-top","10px","color","#012147","font-family","Montserrat, sans-serif !important"],["class","spinner-overlay",4,"ngIf"],[3,"loginSubmit","isLoading"],[1,"login-card-actions"],["routerLink","/register",2,"color","#012147"],[1,"spinner-overlay"],["mode","indeterminate","diameter","50"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"div",3),p(4,"img",4),t(5,"mat-card-title",5),r(6,"Iniciar sesi\xF3n"),o()()(),t(7,"mat-card-content"),s(8,Me,2,0,"div",6),t(9,"app-login-form",7),d("loginSubmit",function(se){return e.onLogin(se)}),o()(),t(10,"mat-card-actions",8)(11,"p"),r(12," \xBFNo tienes una cuenta?"),t(13,"a",9),r(14," Reg\xEDstrate Aqu\xED"),o()()()()()),l&2&&(w("background-image","url("+e.backgroundImageUrl+")"),i(4),P("src",e.logoImageUrl,y),i(4),m("ngIf",e.appStore.isLoading()),i(),m("isLoading",e.appStore.isLoading()))},dependencies:[b,f,O,E,C,z,k,D,T,q,N,A,R],styles:[".login-page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-size:cover;background-position:center;background-repeat:no-repeat;padding:20px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;border-radius:8px;box-shadow:0 4px 12px #00000026;background-color:#ffffffe6}.login-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.login-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:2em;font-weight:500;color:#3f51b5;margin-bottom:8px;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.login-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#757575}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:8px}.login-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:.9em}.login-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:none}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.logo-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}"]})};export{pe as LoginPageComponent};
