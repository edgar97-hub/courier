import{b as re}from"./chunk-VMNFNLTS.js";import{a as le}from"./chunk-K72O7MSM.js";import"./chunk-2JNWSY3M.js";import{d as ee,e as te}from"./chunk-44LGRUYF.js";import"./chunk-3IGH7FBX.js";import"./chunk-7RWCIHFI.js";import{A as X,D as Y,G as Z,H as $,b as A,d as g,f as B,g as U,l as G,o as V,r as H,t as J,v as K,x as Q,z as W}from"./chunk-ICWTIKD4.js";import"./chunk-BWBG2IHT.js";import"./chunk-U3COC3EF.js";import{a as k,b as N,d as D,f as T,g as q,i as z}from"./chunk-K4QNRRQ5.js";import{a as R,b as j}from"./chunk-ASKMK2H5.js";import"./chunk-XRPHOQB2.js";import{a as oe,b as ie,e as ne}from"./chunk-2H2YZZAU.js";import"./chunk-NUMYIFQH.js";import{Db as d,Ea as x,Ec as b,Gd as ae,Hb as P,Hd as me,Qb as n,Rb as F,Sb as L,Sc as I,Ta as w,Tc as E,Va as r,Xc as O,Yc as M,Za as c,cb as u,h,ib as s,lb as y,mb as m,na as v,nb as S,vb as t,wb as o,wc as f,xb as p}from"./chunk-YUSEJVZ2.js";function ue(i,a){i&1&&(t(0,"mat-error"),n(1,"Se requiere correo "),o())}function fe(i,a){i&1&&(t(0,"mat-error"),n(1,"Por favor, introduce una direcci\xF3n de correo electr\xF3nico v\xE1lida"),o())}function be(i,a){i&1&&(t(0,"mat-error"),n(1,"Se requiere contrase\xF1a"),o())}function Ce(i,a){i&1&&(t(0,"mat-error"),n(1,"La contrase\xF1a debe tener al menos 6 caracteres."),o())}var C=class i{constructor(a){this.fb=a;this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],rememberMe:[!1]})}isLoading=!1;loginSubmit=new x;loginForm;hidePassword=!0;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid?this.loginSubmit.emit(this.loginForm.value):this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||i)(c(K))};static \u0275cmp=u({type:i,selectors:[["app-login-form"]],inputs:{isLoading:"isLoading"},outputs:{loginSubmit:"loginSubmit"},decls:20,vars:11,consts:[["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","pat@example.com","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-flat-button","","type","submit",1,"full-width","login-button","btn-corp-primary",3,"disabled"]],template:function(l,e){l&1&&(t(0,"form",0),d("ngSubmit",function(){return e.onSubmit()}),t(1,"mat-form-field",1)(2,"mat-label"),n(3,"Correo"),o(),p(4,"input",2),t(5,"mat-icon",3),n(6,"email"),o(),s(7,ue,2,0,"mat-error",4)(8,fe,2,0,"mat-error",4),o(),t(9,"mat-form-field",1)(10,"mat-label"),n(11,"Password"),o(),p(12,"input",5),t(13,"button",6),d("click",function(){return e.hidePassword=!e.hidePassword}),t(14,"mat-icon"),n(15),o()(),s(16,be,2,0,"mat-error",4)(17,Ce,2,0,"mat-error",4),o(),t(18,"button",7),n(19),o()()),l&2&&(m("formGroup",e.loginForm),r(7),m("ngIf",e.email==null?null:e.email.hasError("required")),r(),m("ngIf",e.email==null?null:e.email.hasError("email")),r(4),m("type",e.hidePassword?"password":"text"),r(),y("aria-label","Hide password")("aria-pressed",e.hidePassword),r(2),F(e.hidePassword?"visibility_off":"visibility"),r(),m("ngIf",e.password==null?null:e.password.hasError("required")),r(),m("ngIf",e.password==null?null:e.password.hasError("minlength")),r(),m("disabled",e.isLoading||e.loginForm.invalid),r(),L(" ",e.isLoading?"Iniciando sesi\xF3n...":"Acceder al sistema"," "))},dependencies:[b,f,Q,G,A,B,U,J,V,H,$,Z,W,X,Y,te,ee,ne,ie,oe,re,me,ae],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{padding:10px 0;font-size:1.1em;text-transform:uppercase;letter-spacing:.5px}"]})};function Me(i,a){i&1&&(t(0,"div",12),p(1,"mat-progress-spinner",13),o())}var pe=class i{constructor(a){this.router=a}appStore=v(le);backgroundImageUrl=M.apiUrl+"/settings/company/background-image";logoImageUrl=M.apiUrl+"/settings/company/logo-image";onLogin(a){return h(this,null,function*(){yield this.appStore.login(a)})}static \u0275fac=function(l){return new(l||i)(c(I))};static \u0275cmp=u({type:i,selectors:[["app-login-page"]],decls:18,vars:5,consts:[[1,"login-page-wrapper"],[1,"login-card"],[1,"login-card-header"],[1,"logo-wrapper"],[2,"width","100%","height","100px","position","relative","overflow","hidden","/* border","1px solid black"],[2,"width","100%","height","100%","object-fit","cover","display","block","/* border","1px solid black",3,"src"],[2,"margin-top","10px","color","#012147","font-family","Montserrat, sans-serif !important"],[1,"titulo-seo-visible"],["class","spinner-overlay",4,"ngIf"],[3,"loginSubmit","isLoading"],[1,"login-card-actions"],["routerLink","/register",2,"color","#012147"],[1,"spinner-overlay"],["mode","indeterminate","diameter","50"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"div",3)(4,"div",4),p(5,"img",5),o(),t(6,"mat-card-title",6),n(7,"Iniciar sesi\xF3n"),o()()(),t(8,"h1",7),n(9," JN Courier: La aplicaci\xF3n web para la gesti\xF3n de pedidos que impulsa la log\xEDstica de tu eCommerce. "),o(),t(10,"mat-card-content"),s(11,Me,2,0,"div",8),t(12,"app-login-form",9),d("loginSubmit",function(se){return e.onLogin(se)}),o()(),t(13,"mat-card-actions",10)(14,"p"),n(15," \xBFNo tienes una cuenta?"),t(16,"a",11),n(17," Reg\xEDstrate Aqu\xED"),o()()()()()),l&2&&(S("background-image","url("+e.backgroundImageUrl+")"),r(5),P("src",e.logoImageUrl,w),r(6),m("ngIf",e.appStore.isLoading()),r(),m("isLoading",e.appStore.isLoading()))},dependencies:[b,f,O,E,C,z,k,T,D,q,N,j,R],styles:[".login-page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;border-radius:8px;box-shadow:0 4px 12px #00000026;background-color:#ffffffe6}.login-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}.login-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:2em;font-weight:500;color:#3f51b5;margin-bottom:0!important;margin-top:0!important;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.login-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#757575}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:8px}.login-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:.9em}.login-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:none}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.logo-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.titulo-seo-visible[_ngcontent-%COMP%]{display:block;font-size:13px!important;text-align:center!important;margin-bottom:20px!important;font-weight:400!important;color:#666!important}"]})};export{pe as LoginPageComponent};
