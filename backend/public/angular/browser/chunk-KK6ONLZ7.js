import{b as re}from"./chunk-OUNNN3NJ.js";import"./chunk-4U3WGXCN.js";import{a as le}from"./chunk-D2XUL2MB.js";import"./chunk-DOLU3UIC.js";import{d as ee,e as te}from"./chunk-UNLLG22G.js";import"./chunk-VD7COXPS.js";import{C as Z,D as $,b as A,d as g,f as B,g as U,l as G,o as V,p as H,r as J,s as K,u as Q,v as W,w as X,z as Y}from"./chunk-YZAPVFVS.js";import"./chunk-BONPDNQU.js";import"./chunk-D2ONT7PG.js";import{c as I,d as E,h as O}from"./chunk-2JI6YFPQ.js";import{a as k,b as N,d as T,f as D,g as q,i as z}from"./chunk-H32KOQMQ.js";import{a as R,b as j}from"./chunk-7ROSILB6.js";import{a as ae,b as me}from"./chunk-VWNIU6WV.js";import"./chunk-SGYCFQGT.js";import{a as oe,b as ie,e as ne}from"./chunk-APSWWWFC.js";import"./chunk-7YX6ZVQD.js";import"./chunk-VBB2ZDR2.js";import{Bb as s,Hb as w,Ib as m,Jb as S,Ra as x,Rb as t,Sb as o,Tb as p,Xc as f,Zb as d,bc as P,dd as b,f as h,fb as y,jb as n,jc as r,kc as F,lc as L,ob as c,rd as M,vb as u,xa as v}from"./chunk-SROJKAS2.js";function ue(i,a){i&1&&(t(0,"mat-error"),r(1,"Se requiere correo "),o())}function fe(i,a){i&1&&(t(0,"mat-error"),r(1,"Por favor, introduce una direcci\xF3n de correo electr\xF3nico v\xE1lida"),o())}function be(i,a){i&1&&(t(0,"mat-error"),r(1,"Se requiere contrase\xF1a"),o())}function Ce(i,a){i&1&&(t(0,"mat-error"),r(1,"La contrase\xF1a debe tener al menos 6 caracteres."),o())}var C=class i{constructor(a){this.fb=a;this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],rememberMe:[!1]})}isLoading=!1;loginSubmit=new x;loginForm;hidePassword=!0;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid?this.loginSubmit.emit(this.loginForm.value):this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||i)(c(K))};static \u0275cmp=u({type:i,selectors:[["app-login-form"]],inputs:{isLoading:"isLoading"},outputs:{loginSubmit:"loginSubmit"},decls:20,vars:11,consts:[["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","pat@example.com","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-flat-button","","type","submit",1,"full-width","login-button","btn-corp-primary",3,"disabled"]],template:function(l,e){l&1&&(t(0,"form",0),d("ngSubmit",function(){return e.onSubmit()}),t(1,"mat-form-field",1)(2,"mat-label"),r(3,"Correo"),o(),p(4,"input",2),t(5,"mat-icon",3),r(6,"email"),o(),s(7,ue,2,0,"mat-error",4)(8,fe,2,0,"mat-error",4),o(),t(9,"mat-form-field",1)(10,"mat-label"),r(11,"Password"),o(),p(12,"input",5),t(13,"button",6),d("click",function(){return e.hidePassword=!e.hidePassword}),t(14,"mat-icon"),r(15),o()(),s(16,be,2,0,"mat-error",4)(17,Ce,2,0,"mat-error",4),o(),t(18,"button",7),r(19),o()()),l&2&&(m("formGroup",e.loginForm),n(7),m("ngIf",e.email==null?null:e.email.hasError("required")),n(),m("ngIf",e.email==null?null:e.email.hasError("email")),n(4),m("type",e.hidePassword?"password":"text"),n(),w("aria-label","Hide password")("aria-pressed",e.hidePassword),n(2),F(e.hidePassword?"visibility_off":"visibility"),n(),m("ngIf",e.password==null?null:e.password.hasError("required")),n(),m("ngIf",e.password==null?null:e.password.hasError("minlength")),n(),m("disabled",e.isLoading||e.loginForm.invalid),n(),L(" ",e.isLoading?"Iniciando sesi\xF3n...":"Acceder al sistema"," "))},dependencies:[b,f,Q,G,A,B,U,J,V,H,$,Z,W,X,Y,te,ee,ne,ie,oe,re,me,ae],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{padding:10px 0;font-size:1.1em;text-transform:uppercase;letter-spacing:.5px}"]})};function Me(i,a){i&1&&(t(0,"div",11),p(1,"mat-progress-spinner",12),o())}var pe=class i{constructor(a){this.router=a}appStore=v(le);backgroundImageUrl=M.apiUrl+"/settings/company/background-image";logoImageUrl=M.apiUrl+"/settings/company/logo-image";onLogin(a){return h(this,null,function*(){yield this.appStore.login(a)})}static \u0275fac=function(l){return new(l||i)(c(I))};static \u0275cmp=u({type:i,selectors:[["app-login-page"]],decls:16,vars:5,consts:[[1,"login-page-wrapper"],[1,"login-card"],[1,"login-card-header"],[1,"logo-wrapper"],[2,"width","100%","height","100px","position","relative","overflow","hidden","/* border","1px solid black"],[2,"width","100%","height","100%","object-fit","cover","display","block","/* border","1px solid black",3,"src"],[2,"margin-top","10px","color","#012147","font-family","Montserrat, sans-serif !important"],["class","spinner-overlay",4,"ngIf"],[3,"loginSubmit","isLoading"],[1,"login-card-actions"],["routerLink","/register",2,"color","#012147"],[1,"spinner-overlay"],["mode","indeterminate","diameter","50"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"div",3)(4,"div",4),p(5,"img",5),o(),t(6,"mat-card-title",6),r(7,"Iniciar sesi\xF3n"),o()()(),t(8,"mat-card-content"),s(9,Me,2,0,"div",7),t(10,"app-login-form",8),d("loginSubmit",function(se){return e.onLogin(se)}),o()(),t(11,"mat-card-actions",9)(12,"p"),r(13," \xBFNo tienes una cuenta?"),t(14,"a",10),r(15," Reg\xEDstrate Aqu\xED"),o()()()()()),l&2&&(S("background-image","url("+e.backgroundImageUrl+")"),n(5),P("src",e.logoImageUrl,y),n(4),m("ngIf",e.appStore.isLoading()),n(),m("isLoading",e.appStore.isLoading()))},dependencies:[b,f,O,E,C,z,k,D,T,q,N,j,R],styles:[".login-page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-size:cover;background-position:center;background-repeat:no-repeat}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;border-radius:8px;box-shadow:0 4px 12px #00000026;background-color:#ffffffe6}.login-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.login-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:2em;font-weight:500;color:#3f51b5;margin-bottom:8px;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.login-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#757575}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:8px}.login-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:.9em}.login-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:none}.login-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.logo-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}"]})};export{pe as LoginPageComponent};
