import{h as c,ia as l}from"./chunk-YUSEJVZ2.js";var d=class s{directionsService;readyPromise;constructor(){this.readyPromise=this.loadApiAndInitialize()}loadApiAndInitialize(){return window.googleMapsApiPromise||(window.googleMapsApiPromise=new Promise((e,i)=>{if(window.google&&window.google.maps){e();return}let o=document.createElement("script"),t="AIzaSyBhUbLFbasymqM2cMgC3inBK7OeGkAkO3M";o.src=`https://maps.googleapis.com/maps/api/js?key=${t}&libraries=places`,o.async=!0,o.defer=!0,o.onload=()=>{console.log("Google Maps script loaded successfully by DirectionsService."),e()},o.onerror=r=>{console.error("Error loading Google Maps script:",r),i(r)},document.head.appendChild(o)})),window.googleMapsApiPromise.then(()=>{this.directionsService||(this.directionsService=new google.maps.DirectionsService)}).catch(e=>(console.error("Google Maps API could not be loaded.",e),Promise.reject(e)))}getDirections(e,i,o){return c(this,null,function*(){if(yield this.readyPromise,!this.directionsService)throw new Error("DirectionsService is not initialized. The Google Maps API may have failed to load.");let t={origin:e,destination:i,waypoints:o,travelMode:google.maps.TravelMode.DRIVING,optimizeWaypoints:!1,drivingOptions:{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}};return new Promise((r,p)=>{this.directionsService.route(t,(n,a)=>{a===google.maps.DirectionsStatus.OK&&n?r(n):(console.error(`Directions request failed due to status: ${a}`),p(new Error(`Directions request failed with status: ${a}`)))})})})}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};export{d as a};
